var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},devil;!function(t){var e=function(){function e(){this._x=0,this._y=0,this._layers=[],this.initLayer(),this.start(),this.$addEvent()}return Object.defineProperty(e.prototype,"touchChildren",{get:function(){return this._layers[0].touchChildren},set:function(t){this._layers[0].touchChildren=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchEnabled",{get:function(){return this._layers[0].touchEnabled},set:function(t){this._layers[0].touchEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._layers[0].scaleX},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._layers[0].scaleY},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].scaleY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._layers[0].rotation},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._layers[0].visible},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._layers[0].alpha},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this.move(t,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this.move(this._x,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this.setSize(t,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this.setSize(this._width,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this.setAnchor(t,this._anchorY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this.setAnchor(this._anchorX,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layerID",{get:function(){return this._layerID},set:function(t){this._layerID=t},enumerable:!0,configurable:!0}),e.prototype.setEnabled=function(t){this._enabled!=t&&(this._enabled=t,this._enabled||(this.touchChildren=!1,this.touchEnabled=!1))},e.prototype.getEnabled=function(){return this._enabled},Object.defineProperty(e.prototype,"filters",{set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].filters=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredHeight",{get:function(){for(var t=0,e=0;e<this._layers.length;e++)t=Math.max(t,this._layers[e].measuredHeight);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredWidth",{get:function(){for(var t=0,e=0;e<this._layers.length;e++)t=Math.max(t,this._layers[e].measuredWidth);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._x+this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{set:function(t){for(var e=0;e<this._layers.length;e++)this._layers[e].mask=t},enumerable:!0,configurable:!0}),e.prototype.initLayer=function(){},e.prototype.createLayer=function(){var e=t.Manager.pool.createDisplayObjectContainer();return e.x=this._x?this._x:0,e.y=this._y?this._y:0,this._layers.push(e),e},e.prototype.start=function(){this._anchorX=0,this._anchorY=0,this._x=0,this._y=0,this._enabled=!0,this._name="",this._isPool=!0,this._invalid=t.InvalidationType.ALL},e.prototype.$addEvent=function(){this._layers.length<=0||(this._layers[0].addEventListener(egret.Event.ADDED_TO_STAGE,this.__addToStage,this),this._layers[0].addEventListener(egret.Event.REMOVED_FROM_STAGE,this.__removedFromStage,this),this._layers[0].stage&&this.__addToStage(null))},e.prototype.$removeEvent=function(){this._layers[0].removeEventListener(egret.Event.ADDED_TO_STAGE,this.__addToStage,this),this._layers[0].removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.__removedFromStage,this)},e.prototype.move=function(t,e){(this._x!=t||this._y!=e)&&(this._x=t,this._y=e,this.updatePosition())},e.prototype.setAnchor=function(e,i){e=t.MathUtil.clamb(0,1,e),i=t.MathUtil.clamb(0,1,i),(this._anchorX!=e||this._anchorY!=i)&&(this._anchorX=e,this._anchorY=i,this.updatePosition())},e.prototype.setSize=function(e,i){(this._width!=e||this._height!=i)&&(this._width=e,this._height=i,this.updatePosition(),this.invalidate(t.InvalidationType.SIZE))},e.prototype.invalidate=function(t){this._invalid=this._invalid|t,this.startCallLater()},e.prototype.isInvalid=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if((this._invalid&t)==t)return!0;for(;e.length>0;)if(t=e.pop(),(this._invalid&t)==t)return!0;return!1},e.prototype.validate=function(){this._invalid=t.InvalidationType.EMPTY},e.prototype.repaint=function(){this.draw(),this.validate(),t.Manager.render.remove(this.repaint,this)},e.prototype.draw=function(){},e.prototype.updatePosition=function(){for(var t=this._layers.length,e=this._x-this._width*this._anchorX,i=this._y-this._height*this._anchorY,n=0;t>n;n++)this._layers[n].x=e,this._layers[n].y=i},e.prototype.startCallLater=function(){this._layers[0]&&this._layers[0].stage&&t.Manager.render.add(this.repaint,this)},e.prototype.removeFromParent=function(){for(var e=this._layers.length,i=0;e>i;i++)t.ObjectUtil.removeFromParent(this._layers[i]);this.parent=null},e.prototype.localToGlobal=function(t,e){return this._layers[0].localToGlobal(t,e)},e.prototype.unuse=function(){this._x=0,this._y=0,this.$removeEvent(),t.Manager.render.remove(this.repaint,this),null!=this._parent&&(this._parent.removeChild(this,!1),this._parent=null);for(var e=this._layers.length,i=0;e>i;i++)t.Manager.pool.pushDisplayObjectContainer(this._layers[i]);this._layers.length=0},e.prototype.reuse=function(){this.initLayer(),this.start(),this.$addEvent()},e.prototype.pool=function(){this._isPool?t.Manager.pool.push(this):this.dispose()},e.prototype.dispose=function(){this.$removeEvent(),t.Manager.render.remove(this.repaint,this),null!=this._parent&&(this._parent.removeChild(this,!1),this._parent=null);for(var e=this._layers.length,i=0;e>i;i++)t.Manager.pool.pushDisplayObjectContainer(this._layers[i]);this._layers.length=0,this._layers=null},e.prototype.addToStage=function(){},e.prototype.removeFromStage=function(){},e.prototype.autoCreateLayer=function(t){for(var e=0;t>e;e++)this.createLayer();this.$addEvent()},e.prototype.__addToStage=function(t){this.startCallLater(),this.addToStage()},e.prototype.__removedFromStage=function(e){t.Manager.render.remove(this.repaint,this),this.removeFromStage()},e.create=function(e){return t.Manager.pool.create(e)},e}();t.View=e,__reflect(e.prototype,"devil.View",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._styles={},this._stylesOffset={},this._layerID=0,this.setDefaultStyle()},i.prototype.setDefaultStyle=function(){},i.prototype.getStyle=function(t){return this._styles[t]},i.prototype.getImageData=function(e){return t.Model.resConfig.getResourceItem(this.getStyle(e))},i.prototype.setStyle=function(e,i){this._styles[e]!=i&&(this._styles[e]=i,this.invalidate(t.InvalidationType.STYLE))},i.prototype.setStyleOffset=function(e,i,n){this._stylesOffset[e]=[i,n],this.invalidate(t.InvalidationType.STYLE)},i.prototype.getStyleXoffset=function(t){var e=this._stylesOffset[t];return e?e[0]:0},i.prototype.getStyleYoffset=function(t){var e=this._stylesOffset[t];return e?e[1]:0},i.prototype.unuse=function(){for(var t in this._styles)this._styles[t]=null;this._styles=null,this._stylesOffset=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){for(var t in this._styles)this._styles[t]=null;this._styles=null,this._stylesOffset=null,e.prototype.dispose.call(this)},i}(t.View);t.Component=e,__reflect(e.prototype,"devil.Component")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.CONTAINER,i}return __extends(i,e),Object.defineProperty(i.prototype,"numChildren",{get:function(){return this._numChildren},enumerable:!0,configurable:!0}),i.prototype.start=function(){this._children=[],e.prototype.start.call(this),this._numChildren=0,this._width=t.ComponentDefault.CONTAINER_WIDTH,this._height=t.ComponentDefault.CONTAINER_HEIGHT},i.prototype.removeChild=function(t,e){if(null!=t&&null!=t.parent){var i=this._children.indexOf(t);this.removeChildAt(i,e)}},i.prototype.removeChildAt=function(e,i){if(!t.MathUtil.isBetween(0,this._numChildren-1,e))throw new Error("要删除的孩子不在当前容器中");var n=this._children[e];if(n.parent==this){i?n.pool():n.removeFromParent(),n.parent=null;var o=this._children.indexOf(n);-1!=o&&(this._numChildren--,this._children.splice(o,1),this.invalidate(t.InvalidationType.LAYOUT))}else if(null!=n.parent)throw new Error("要删除的孩子不在当前容器中")},i.prototype.removeChildren=function(){for(;this._numChildren>0;)this.removeChildAt(0,!0)},i.prototype.addChild=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.addChildAt.apply(this,[t,this._numChildren+1].concat(e))},i.prototype.addChildAt=function(e,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=this;if(e.parent==r){i=t.MathUtil.clamb(0,r._numChildren<=0?0:r._numChildren-1,i);var s=r._children.indexOf(e);if(s!=i){r._children.splice(s,1),r._children.splice(i,0,e);for(var a=n.length,l=0;a>l;l++)e.layers[l]&&n[l].addChildAt(e.layers[l],i);r.invalidate(t.InvalidationType.LAYOUT)}}else if(e.parent!=r){if(i=t.MathUtil.clamb(0,r._numChildren,i),null!=e.parent&&e.parent.removeChild(e,!1),e.parent=r,i==r._numChildren){r._children[i]=e;for(var a=n.length,l=0;a>l;l++)e.layers[l]&&n[l].addChild(e.layers[l])}else{r._children.splice(i,0,e);for(var a=n.length,l=0;a>l;l++)e.layers[l]&&n[l].addChildAt(e.layers[l],i)}r._numChildren++,r.invalidate(t.InvalidationType.LAYOUT)}},i.prototype.getChildAt=function(t){return 0>t||t>this._numChildren?null:this._children[t]},i.prototype.getChildByName=function(t){var e=this.treeChildByName(t,this);return e},i.prototype.treeChildByName=function(t,e){for(var n,o=0;o<this._numChildren;o++){if(n=this.getChildAt(o),n.name==t)return n;if(n instanceof i)return this.treeChildByName(t,n)}return null},i.prototype.contains=function(t){for(var e=t;e;){if(e==this)return!0;e=e.parent}return!1},i.prototype.readDataComplete=function(){},i.prototype.setProperty=function(t,e){this[t]=e},i.prototype.addChildAtLayerIndex=function(t,e){this.addChild(t,this._layers[e])},i.prototype.addChild2=function(t){this.addChildAt2(t,this._numChildren+1)},i.prototype.addChildAt2=function(e,i){var n=this;if(e.parent==n){i=t.MathUtil.clamb(0,n._numChildren<=0?0:n._numChildren-1,i);var o=n._children.indexOf(e);o!=i&&(n._children.splice(o,1),n._children.splice(i,0,e),this.$addChildAt(e,i),n.invalidate(t.InvalidationType.LAYOUT))}else e.parent!=n&&(i=t.MathUtil.clamb(0,n._numChildren,i),null!=e.parent&&e.parent.removeChild(e,!1),e.parent=n,i==n._numChildren?(n._children[i]=e,this.$addChildAt(e,i)):(n._children.splice(i,0,e),this.$addChildAt(e,i)),n._numChildren++,n.invalidate(t.InvalidationType.LAYOUT))},i.prototype.$addChildAt=function(e,i){if(this._layerID==t.LayerID.EMPTY)throw new Error(egret.getQualifiedClassName(this)+"未设置layerID值");if(e.layerID==t.LayerID.EMPTY)throw new Error(e.name+"未设置layerID值");var n=e.layers.length;if(n>this._layers.length)throw new Error(egret.getQualifiedClassName(this)+"与"+e.name+"层不匹配");this.treeLayerID(e,i,0)},i.prototype.treeLayerID=function(e,i,n){for(var o,r=t.LayerID.getLayers(),s=0,a=0;s<r.length;s++)o=r[s],(this._layerID&o)==o&&((e.layerID&o)==o&&this._layers[a].addChildAt(e.layers[n++],i),a++);n<e.layers.length&&this.treeLayerID(e,i,n)},i.prototype.unuse=function(){this.removeChildren(),this._children.length=0,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this.removeChildren(),this._children.length=0,this._children=null,e.prototype.dispose.call(this)},i}(t.Component);t.Container=e,__reflect(e.prototype,"devil.Container")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.addEvent(),i._type=t.ComponentType.BUTTON_IMAGE,i}return __extends(i,e),Object.defineProperty(i.prototype,"buttonState",{get:function(){return this._buttonState},set:function(t){this._buttonState!=t&&(this._buttonState=t,this.invalidate(i.DRAW_STATE))},enumerable:!0,configurable:!0}),i.prototype.setEnabled=function(i){this._enabled!=i&&(e.prototype.setEnabled.call(this,i),this._enabled?(this._layers[0].touchEnabled=!0,this.buttonState=t.ButtonState.UP):this.buttonState=t.ButtonState.DISANABLED)},Object.defineProperty(i.prototype,"downOffset",{set:function(t){this._downOffset=t},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._layer.touchEnabled=!0,this._downOffset=!0,this._width=t.ComponentDefault.BUTTON_WIDTH,this._height=t.ComponentDefault.BUTTON_HEIGHT,this._invalid=this._invalid|i.DRAW_STATE,this._buttonState=t.ButtonState.UP,this._currentBack=t.View.create(t.Image),this.addChild(this._currentBack,this._layer)},i.prototype.addEvent=function(){this._layer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this)},i.prototype.removeEvent=function(){this._layer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this)},i.prototype.setDefaultStyle=function(){this._styles[t.StyleName.UP_BACK_SKIN]=null,this._styles[t.StyleName.DOWN_BACK_SKIN]=null,this._styles[t.StyleName.DISENABLED_BACK_SKIN]=null},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(i.DRAW_STATE,t.InvalidationType.STYLE)&&this.drawState(),this.isInvalid(t.InvalidationType.STYLE,i.DRAW_STATE,t.InvalidationType.STYLE)&&this.drawSize()},i.prototype.drawState=function(){var e,i=0,n=0;this._buttonState==t.ButtonState.UP?e=t.StyleName.UP_BACK_SKIN:this._buttonState==t.ButtonState.DOWN?(e=t.StyleName.DOWN_BACK_SKIN,this._downOffset&&(i=1,n=1)):this._buttonState==t.ButtonState.DISANABLED&&(e=t.StyleName.DISENABLED_BACK_SKIN),i+=this.getStyleXoffset(e),n+=this.getStyleYoffset(e),this._currentBack.move(i,n),this.drawSkin(e)},i.prototype.drawSkin=function(e){var i=this.getImageData(e);null==i&&(i=this.getImageData(t.StyleName.UP_BACK_SKIN)),this._currentBack.source=i.name,this._currentBack.scale9Grid=i.scale9Grid},i.prototype.drawSize=function(){this._currentBack.width=this._width,this._currentBack.height=this._height},i.prototype.reuse=function(){e.prototype.reuse.call(this),this.addEvent()},i.prototype.unuse=function(){this.removeEvent(),this._layer=null,this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._mouseDownFun&&(this._mouseDownFun.pool(),this._mouseDownFun=null),this._longClickFun&&(this._longClickFun.pool(),this._longClickFun=null),this._currentBack=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){t.Manager.render.remove(this.___checkLongClick,this),this.removeEvent(),this._layer=null,this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._mouseDownFun&&(this._mouseDownFun.pool(),this._mouseDownFun=null),this._longClickFun&&(this._longClickFun.pool(),this._longClickFun=null),this._currentBack=null},i.prototype.__click=function(e,i){this._clickFun=t.CallBackInfo.create(e,i)},i.prototype.__mouseDown=function(e,i){this._mouseDownFun=t.CallBackInfo.create(e,i)},i.prototype.__longClick=function(e,i){this._longClickFun=t.CallBackInfo.create(e,i)},i.prototype.___handleEvent=function(t){this.___$handleEvent(t)},i.prototype.___$handleEvent=function(e){switch(e.type){case egret.TouchEvent.TOUCH_BEGIN:this.buttonState=t.ButtonState.DOWN,null!=this._mouseDownFun&&this._mouseDownFun.runCallBack(e,this),this._longClickFun&&(this._longClickCnt=0,t.Manager.render.add(this.___checkLongClick,this,300,0));break;case egret.TouchEvent.TOUCH_CANCEL:case egret.TouchEvent.TOUCH_END:case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:this.buttonState=t.ButtonState.UP;break;case egret.TouchEvent.TOUCH_TAP:null!=this._clickFun&&this._clickFun.runCallBack(e,this)}},i.prototype.___checkLongClick=function(){return this.buttonState==t.ButtonState.DOWN&&this._longClickFun?void(null!=this._longClickFun&&(this._longClickFun.runCallBack(this,!1),++this._longClickCnt,this._longClickCnt>=3&&t.Manager.render.add(this.___checkLongClick,this,30,0,null,!0))):(this._longClickFun&&this._longClickFun.runCallBack(this,!0),void t.Manager.render.remove(this.___checkLongClick,this))},i.DRAW_STATE=1,i}(t.Container);t.ButtonImage=e,__reflect(e.prototype,"devil.ButtonImage")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.BUTTON_ICON,i}return __extends(i,e),i.prototype.initLayer=function(){e.prototype.initLayer.call(this),this._iconLayer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._iconOffsetX=0,this._iconOffsetY=0,this._iconWidth=-1,this._iconWidth=-1,this._icon=t.View.create(t.Image),this._icon.__complete(this.___complete,this),this.addChild(this._icon,this._iconLayer)},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[t.StyleName.UP_ICON_SKIN]=null,this._styles[t.StyleName.DOWN_ICON_SKIN]=null,this._styles[t.StyleName.DISENABLED_ICON_SKIN]=null},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.LAYOUT)&&this.drawLayout()},i.prototype.drawState=function(){e.prototype.drawState.call(this);var i,n=this._iconX,o=this._iconY;this._buttonState==t.ButtonState.UP?i=t.StyleName.UP_ICON_SKIN:this._buttonState==t.ButtonState.DOWN?(i=t.StyleName.DOWN_ICON_SKIN,this._downOffset&&(n+=1,o+=1)):this._buttonState==t.ButtonState.DISANABLED&&(i=t.StyleName.DISENABLED_ICON_SKIN),n+=this.getStyleXoffset(i),o+=this.getStyleYoffset(i),this._icon.move(n,o),this.drawIconSkin(i)},i.prototype.drawIconSkin=function(e){var i=this.getStyle(e);this._iconStyleName=e,null==i&&(i=this.getStyle(t.StyleName.UP_ICON_SKIN)),this._icon.source=i},i.prototype.setIconOffset=function(e,i){(this._iconOffsetX!=e||this._iconOffsetY!=i)&&(this._iconOffsetX=e,this._iconOffsetY=i,this.invalidate(t.InvalidationType.LAYOUT))},i.prototype.drawLayout=function(){this._iconX=(this._width-this._iconWidth>>1)+this._iconOffsetX,this._iconY=(this._height-this._iconHeight>>1)+this._iconOffsetY;var t=this.getStyleXoffset(this._iconStyleName),e=this.getStyleYoffset(this._iconStyleName);this._icon.move(this._iconX+t,this._iconY+e)},i.prototype.unuse=function(){this._iconLayer=null,this._icon=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._iconLayer=null,this._icon=null,e.prototype.dispose.call(this)},i.prototype.___complete=function(e,i){(this._iconWidth!=i.width||this._iconHeight!=i.height)&&(this._iconWidth=i.width,this._iconHeight=i.height,this.invalidate(t.InvalidationType.LAYOUT))},i}(t.ButtonImage);t.ButtonIcon=e,__reflect(e.prototype,"devil.ButtonIcon")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.BUTTON_TXT,i}return __extends(i,e),Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._label.text},set:function(t){this._label.text=t},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){e.prototype.initLayer.call(this),this._txtLayer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._labelOffsetX=0,this._labelOffsetY=0,this._label=t.View.create(t.Text),this.addChild(this._label,this._txtLayer)},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.LAYOUT,t.InvalidationType.SIZE)&&this.drawLayout()},i.prototype.drawSize=function(){e.prototype.drawSize.call(this),this._label.setSize(this._width,this._label.textHeight+5)},i.prototype.drawState=function(){e.prototype.drawState.call(this),this._downOffset&&this._buttonState==t.ButtonState.DOWN?this._label.move(this._labelX+1,this._labelY+1):this._label.move(this._labelX,this._labelY)},i.prototype.setLabelOffset=function(e,i){(this._labelOffsetX!=e||this._labelOffsetY!=i)&&(this._labelOffsetX=e,this._labelOffsetY=i,this.invalidate(t.InvalidationType.LAYOUT))},i.prototype.drawLayout=function(){this._labelX=(this._width-this._label.width>>1)+this._labelOffsetX,this._labelY=(this._height-this._label.height>>1)+this._labelOffsetY,this._label.move(this._labelX,this._labelY)},i.prototype.unuse=function(){this._label=null,e.prototype.unuse.call(this),this._txtLayer=null},i.prototype.dispose=function(){this._label=null,e.prototype.dispose.call(this),this._txtLayer=null},i}(t.ButtonImage);t.ButtonText=e,__reflect(e.prototype,"devil.ButtonText")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._httpReqs=[],this._callBacks=[],this._errorCallBacks=[],this.start()}return e.prototype.getPriority=function(){return this._callBacks.length<=1?-1:this._priority},e.prototype.getPath=function(){return this._path},e.prototype.getUseTimer=function(){return this._useTimer},e.prototype.getState=function(){return this._state},e.prototype.start=function(){this._state=t.LoaderState.WAITING,this._count=0,this._dispatchLoadErrorEvent=!1,this._errorCount=0},e.prototype.add=function(e,i,n,o){this._useTimer=egret.getTimer(),-1==t.CallBackInfo.contains(this._callBacks,e,i)&&this._callBacks.push(t.CallBackInfo.create(e,i)),null!=n&&-1==t.CallBackInfo.contains(this._errorCallBacks,n,o)&&this._errorCallBacks.push(t.CallBackInfo.create(n,o))},e.prototype.remove=function(e,i,n,o){var r=t.CallBackInfo.contains(this._callBacks,e,i);r>=0&&(this._callBacks[r].pool(),this._callBacks.splice(r,1)),null!=n&&(r=t.CallBackInfo.contains(this._errorCallBacks,n,o),r>=0&&(this._errorCallBacks[r].pool(),this._errorCallBacks.splice(r,1)))},e.prototype.unuseHttpReqs=function(){for(var t=this._httpReqs.length,e=t-1;e>=0;e--)this.unuseHttpReq(this._httpReqs[e]);this._httpReqs.length=0},e.prototype.unuseHttpReq=function(e){e.removeEventListener(egret.Event.COMPLETE,this.___httpReqComplete,this),e.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.___httpReqErrorComplete,this),t.Manager.pool.pushHttpRequest(e);var i=this._httpReqs.indexOf(e);-1!=i&&this._httpReqs.splice(i,1)},e.prototype.unuseImgLoader=function(){this._imgLoader&&(this._imgLoader.removeEventListener(egret.Event.COMPLETE,this.___imageLoaderComplete,this),this._imgLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.___imageLoaderErrorComplete,this),t.Manager.pool.pushImageLoader(this._imgLoader),this._imgLoader=null)},e.prototype.parse=function(e){this._state=t.LoaderState.SUCESS},e.prototype.callBack=function(){for(var t=this._callBacks.length,e=0;t>e;e++)this._callBacks[e].runCallBack(this);this._count+=t;for(var e=0;t>e;e++)this._callBacks[e].pool();this._callBacks.length=0;for(var e=0;e<this._errorCallBacks.length;e++)this._errorCallBacks[e].pool();this._errorCallBacks.length=0},e.prototype.errorCallBack=function(){for(var t=this._errorCallBacks.length,e=0;t>e;e++)this._errorCallBacks[e].runCallBack(this);for(var e=0;e<this._errorCallBacks.length;e++)this._errorCallBacks[e].pool();this._errorCallBacks.length=0},e.prototype.$analyzeData=function(e){if(!e)return void this.error(0);try{this.parse(e),this._state==t.LoaderState.SUCESS&&this.callBack()}catch(i){egret.$warn(1017,this._path.urls,e)}},e.prototype.reload=function(e){this._state=t.LoaderState.LOADING},e.prototype.error=function(i){if(!this._dispatchLoadErrorEvent)if(this._errorCount<e.MAX_ERROR)this._errorCount++,this._state=t.LoaderState.WAITING,this.reload(i);else{this._dispatchLoadErrorEvent||(this.errorCallBack(),this._dispatchLoadErrorEvent=!0);for(var n=0;n<this._callBacks.length;n++)this._callBacks[n].pool();this._callBacks.length=0,this.removeCount(),this._state=t.LoaderState.FAIL,this._resourceGCType=t.ResourceGCType.ERROR,this._unUseTimer=egret.getTimer(),t.Manager.loader.addFail(this._path.key)}},e.prototype.addCount=function(){this._count++},e.prototype.removeCount=function(){this._count--,this._count<=0&&(this._unUseTimer=egret.getTimer())},e.prototype.$load=function(e,i){var n=t.Manager.pool.createHttpRequest();n.responseType=e,n.addEventListener(egret.Event.COMPLETE,this.___httpReqComplete,this),n.addEventListener(egret.IOErrorEvent.IO_ERROR,this.___httpReqErrorComplete,this),this.$request(n,i),this._httpReqs.push(n)},e.prototype.$request=function(t,e){t.open(this._path.urls[e]),t.send()},e.prototype.$loadImage=function(e){this._imgLoader=t.Manager.pool.createImageLoader(),this._imgLoader.addEventListener(egret.Event.COMPLETE,this.___imageLoaderComplete,this),this._imgLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.___imageLoaderErrorComplete,this),this._imgLoader.load(e)},e.prototype.load=function(){this._state=t.LoaderState.LOADING},e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.gc=function(){return this._count<=0&&egret.getTimer()-this._unUseTimer>=t.ResourceGCType.getGCTime(this._resourceGCType)?(this.pool(),!0):!1},e.prototype.reuse=function(){this.start()},e.prototype.unuse=function(){for(var t=this._callBacks.length,e=0;t>e;e++)this._callBacks[e].pool();this._callBacks.length=0,t=this._errorCallBacks.length;for(var e=0;t>e;e++)this._errorCallBacks[e].pool();this._errorCallBacks.length=0,this._path=null,this.unuseHttpReqs(),this.unuseImgLoader()},e.prototype.dispose=function(){this.unuse(),this._callBacks=null,this._errorCallBacks=null},e.prototype.___httpReqComplete=function(t){this.$analyzeData(t.currentTarget.response),this.unuseHttpReq(t.currentTarget)},e.prototype.___httpReqErrorComplete=function(t){this.unuseHttpReq(t.currentTarget),this.error(0)},e.prototype.___imageLoaderComplete=function(t){this.$analyzeData(this._imgLoader.data),this.unuseImgLoader()},e.prototype.___imageLoaderErrorComplete=function(t){this.unuseImgLoader(),this.error(1)},e.create=function(e,i,n,o){var r=t.Manager.pool.create(e);return r._path=i,r._priority=n,r._resourceGCType=o,r},e.MAX_ERROR=3,e}();t.BaseLoader=e,__reflect(e.prototype,"devil.BaseLoader",["devil.ILoader","devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(e,i,n,o){var r=t.call(this,e,n,o)||this;return r.params=i,r}return __extends(e,t),e}(egret.Event);t.BaseEvent=e,__reflect(e.prototype,"devil.BaseEvent")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.data.buffer},set:function(t){var e,i=t.byteLength,n=new Uint8Array(t),o=this.bufferExtSize;if(0==o)e=new Uint8Array(i);else{var r=(i/o|0)+1;e=new Uint8Array(r*o)}e.set(n),this.write_position=i,this._bytes=e,this.data=new DataView(e.buffer)},enumerable:!0,configurable:!0}),i.prototype.setArrayBuffer=function(t){this._position=0,this.write_position=t.byteLength,this.buffer=t,this._position=0},i.prototype.readInt64=function(){return this.readInt()*Math.pow(2,32)+this.readUnsignedInt()},i.prototype.writeInt64=function(t){this.writeInt(t/4294967295),this.writeUnsignedInt(t)},i.prototype.writeUTF=function(t){null!=t?e.prototype.writeUTF.call(this,t):e.prototype.writeUTF.call(this,"")},i.prototype.pool=function(){this.endian=egret.Endian.BIG_ENDIAN,t.Manager.pool.push(this)},i.prototype.unuse=function(){this.clear()},i.prototype.reuse=function(){},i.prototype.dispose=function(){this.clear()},i}(egret.ByteArray);t.ByteArrayExtend=e,__reflect(e.prototype,"devil.ByteArrayExtend",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.BUTTON_IMAGE_SELECTED,i}return __extends(i,e),Object.defineProperty(i.prototype,"common",{get:function(){return this._common},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._common=t.Manager.pool.create(t.ButtonSelectedBase),this._common.button=this},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[t.StyleName.SELECT_BACK_SKIN]=null},i.prototype.drawState=function(){this._buttonState==t.ButtonState.SELECTED?this.drawSkin(t.StyleName.SELECT_BACK_SKIN):e.prototype.drawState.call(this)},i.prototype.unuse=function(){this._common.pool(),this._common=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._common.pool(),this._common=null,e.prototype.dispose.call(this)},i.prototype.___handleEvent=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)this._common.selected=!this._common.selected;else if(this._common.selected)return;e.prototype.___handleEvent.call(this,t)},i}(t.ButtonImage);t.ButtonImageSelected=e,__reflect(e.prototype,"devil.ButtonImageSelected")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.BUTTON_ICON_SELECTED,i}return __extends(i,e),Object.defineProperty(i.prototype,"common",{get:function(){return this._common},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._common=t.Manager.pool.create(t.ButtonSelectedBase),this._common.button=this},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[t.StyleName.SELECT_BACK_SKIN]=null,this._styles[t.StyleName.SELECT_ICON_SKIN]=null},i.prototype.drawState=function(){if(this._buttonState==t.ButtonState.SELECTED){this.drawSkin(t.StyleName.SELECT_BACK_SKIN);var i=this.getStyleXoffset(t.StyleName.SELECT_BACK_SKIN),n=this.getStyleYoffset(t.StyleName.SELECT_BACK_SKIN);this._currentBack.move(i,n),this.drawIconSkin(t.StyleName.SELECT_ICON_SKIN);
var o=this._iconX+this.getStyleXoffset(t.StyleName.SELECT_ICON_SKIN),r=this._iconY+this.getStyleYoffset(t.StyleName.SELECT_ICON_SKIN);this._icon.move(o,r)}else e.prototype.drawState.call(this)},i.prototype.setEnabled=function(t){this._enabled!=t&&(this._enabled=t,this.touchEnabled=this._enabled)},i.prototype.___handleEvent=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)this._common.selected=!this._common.selected;else if(this._common.selected)return;e.prototype.___handleEvent.call(this,t)},i.prototype.unuse=function(){this._common.pool(),this._common=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._common.pool(),this._common=null,e.prototype.dispose.call(this)},i}(t.ButtonIcon);t.ButtonIconSelected=e,__reflect(e.prototype,"devil.ButtonIconSelected")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.BUTTON_TEXT_SELECTED,i}return __extends(i,e),Object.defineProperty(i.prototype,"common",{get:function(){return this._common},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._common=t.Manager.pool.create(t.ButtonSelectedBase),this._common.button=this},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[t.StyleName.SELECT_BACK_SKIN]=null},i.prototype.drawState=function(){this._buttonState==t.ButtonState.SELECTED?this.drawSkin(t.StyleName.SELECT_BACK_SKIN):e.prototype.drawState.call(this)},i.prototype.unuse=function(){this._common.pool(),this._common=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._common.pool(),this._common=null,e.prototype.dispose.call(this)},i.prototype.___handleEvent=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP)this._common.selected=!this._common.selected;else if(this._common.selected)return;e.prototype.___handleEvent.call(this,t)},i}(t.ButtonText);t.ButtonTextSelected=e,__reflect(e.prototype,"devil.ButtonTextSelected")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.IMAGE,i}return __extends(i,e),Object.defineProperty(i.prototype,"bitmap",{get:function(){return this._bitmap},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale9Grid",{get:function(){return this._bitmap.scale9Grid},set:function(t){this._bitmap.scale9Grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(e){this._source!=e&&(this._bitmap.texture=null,this._path&&(t.Manager.loader.remove(this._path,this.___complete,this),this._path=null),this._source=e,null!=this._source&&""!=this._source&&(this._source instanceof egret.Texture&&(-1==this._width&&(this._width=this._source.textureWidth),-1==this._height&&(this._height=this._source.textureHeight),this.invalidate(t.InvalidationType.SIZE)),this.invalidate(t.InvalidationType.DATA)))},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._width=-1,this._height=-1,this._bitmap=t.Manager.pool.createBitmap(),this._layer.addChild(this._bitmap)},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.DATA)&&this.drawData(),this.isInvalid(t.InvalidationType.SIZE)&&this.drawSize()},i.prototype.drawSize=function(){null!=this._bitmap.texture&&(this._bitmap.width=this._width,this._bitmap.height=this._height)},i.prototype.drawData=function(){this._source instanceof egret.Texture?this._bitmap.texture=this._source:null!=this._source&&""!=this._source&&(this._path=t.PathInfo.getPath(t.Model.resConfig.getURL(this._source),t.LoaderType.TEXTURE),t.Manager.loader.load(this._path,this.___complete,this,t.ResourceGCType.COMMON,t.ResPriorityType.LOAD_LEVEL5))},i.prototype.unuse=function(){this._layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this),this._source=null,t.Manager.pool.pushBitmap(this._bitmap),this._bitmap=null,this._layer=null,null!=this._completeFun&&(this._completeFun.pool(),this._completeFun=null),this._path&&(t.Manager.loader.remove(this._path,this.___complete,this),this._path=null),null!=this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._downFun&&(this._downFun.pool(),this._downFun=null),e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this),this._source=null,t.Manager.pool.pushBitmap(this._bitmap),this._bitmap=null,this._layer=null,null!=this._completeFun&&(this._completeFun.pool(),this._completeFun=null),this._path&&(t.Manager.loader.remove(this._path,this.___complete,this),this._path=null),null!=this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._downFun&&(this._downFun.pool(),this._downFun=null),e.prototype.dispose.call(this)},i.prototype.__complete=function(e,i){null!=e&&null!=i&&(this._completeFun=t.CallBackInfo.create(e,i))},i.prototype.___complete=function(e){var i=e.getTexture(this._source);null!=i&&(this._bitmap.texture=i,this._width=this._width<0?i.textureWidth:this._width,this._height=this._height<0?i.textureHeight:this._height,this._bitmap.width=this._width,this._bitmap.height=this._height,this._invalid=this._invalid^t.InvalidationType.SIZE,null!=this._completeFun&&this._completeFun.runCallBack(e,this))},i.prototype.__click=function(e,i){this.touchEnabled=!0,this._clickFun=t.CallBackInfo.create(e,i),this._layer.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this._layer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this)},i.prototype.__down=function(e,i){this.touchEnabled=!0,this._downFun=t.CallBackInfo.create(e,i),this._layer.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)||this._layer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this)},i.prototype.___touchTap=function(t){this._clickFun&&this._clickFun.runCallBack(t,this)},i.prototype.___touchBegin=function(t){this._downFun&&this._downFun.runCallBack(t,this)},i}(t.Component);t.Image=e,__reflect(e.prototype,"devil.Image")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._indexInViewCalculated=!1,t}return __extends(i,e),Object.defineProperty(i.prototype,"showCount",{get:function(){return this._datas?this._datas.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemWidth",{get:function(){return this._itemWidth},set:function(t){this._itemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemHeight",{get:function(){return this._itemHeight},set:function(t){this._itemHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingV",{get:function(){return this._paddingV},set:function(t){this._paddingV=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingH",{get:function(){return this._paddingH},set:function(t){this._paddingH=t},enumerable:!0,configurable:!0}),i.prototype.getCurrent=function(){return this._selector.currentSelected},Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selector.selectedIndex+this._startIndex},set:function(t){this._selector.selectedIndex=t-this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentWidth",{get:function(){return this._contentWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollRect",{get:function(){return this._scrollRect},set:function(t){for(var e=this._layers.length,i=0;e>i;i++)this._layers[i].scrollRect=t},enumerable:!0,configurable:!0}),i.prototype.getScrollH=function(){return this._scrollH},i.prototype.setScrollH=function(t,e){t=+t||0,this._scrollH!=t&&(this._fromScrollBar=e,this._scrollH=t,this.scrollRect=this._scrollRect.setTo(this._scrollH,this._scrollV,this._width,this._height),this._sliderH&&this._sliderH.containerUpdPos(t),this.scrollPositionChanged())},i.prototype.getScrollV=function(){return this._scrollV},i.prototype.setScrollV=function(t,e){t=+t||0,this._scrollV!=t&&(this._fromScrollBar=e,this._scrollV=t,this.scrollRect=this._scrollRect.setTo(this._scrollH,this._scrollV,this._width,this._height),this._sliderV&&this._sliderV.containerUpdPos(t),this.scrollPositionChanged())},Object.defineProperty(i.prototype,"sliderH",{get:function(){return this._sliderH},set:function(t){t.container=this,t.isVertical=!1,this._sliderH=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sliderV",{get:function(){return this._sliderV},set:function(t){t.container=this,t.isVertical=!0,this._sliderV=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"datas",{get:function(){return this._datas},set:function(e){this.clear(),this._datas=e,this._fromScrollBar=!1,this.setScrollV(0,!1),this.setScrollH(0,!1),this.invalidate(i.DRAW_CONTENT_SIZE),this.invalidate(t.InvalidationType.LAYOUT)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{set:function(t){this._itemRender=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"col",{get:function(){return this._col},set:function(t){this._col=t},enumerable:!0,configurable:!0}),i.prototype.createItemRender=function(e,i){this._createItemRender=t.CallBackInfo.create(e,i)},i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._invalid=this._invalid|i.DRAW_CONTENT_SIZE,this._col=1,this._selector=new t.RadioSelector,this._datas=[],this._paddingH=0,this._paddingV=0,this._startIndex=-1,this._endIndex=-1,this._contentWidth=0,this._contentHeight=0,this._scrollH=0,this._scrollV=0,this._itemWidth=0,this._itemHeight=0,this._scrollRect=new egret.Rectangle,this._indexInViewCalculated=!1,this._fromScrollBar=!1,this.holdBottom=!1,this._subLayers=[]},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(i.DRAW_CONTENT_SIZE)&&this.drawContentSize(),this.isInvalid(t.InvalidationType.DATA,t.InvalidationType.LAYOUT)&&this.drawLayout()},i.prototype.setSize=function(t,i){(this._width!=t||this._height!=i)&&(e.prototype.setSize.call(this,t,i),this.scrollRect=this._scrollRect.setTo(this._scrollH,this._scrollV,this._width,this._height))},i.prototype.clear=function(){this.removeChildren(),this._selector.clear()},i.prototype.clearData=function(){for(var t,e=0;e<this._numChildren;e++)t=this._children[e],t.clearData()},i.prototype.drawLayout=function(){if(this._indexInViewCalculated?this._indexInViewCalculated=!1:this.getIndexInView(),-1!=this._startIndex&&-1!=this._endIndex){for(var e,i=this._numChildren;i>0;i--)e=this._children[i-1],t.MathUtil.isBetween(this._startIndex,this._endIndex,e.index)||(this._selector.removeAt(i-1),this.removeChildAt(i-1,!0));this.holdBottom&&!this._fromScrollBar&&(this.getDirection()==t.List.VERTICAL?this._contentHeight>this._height&&this.setScrollV(this._contentHeight-this._height,!1):this._contentWidth>this._width&&this.setScrollH(this._contentWidth-this._width,!1)),this._fromScrollBar=!1,this.sortPosition(),null!=this._sortFun&&this._sortFun.runCallBack()}},i.prototype.sortPosition=function(){for(var e,i,n=this._itemWidth+this._paddingH,o=this._itemHeight+this._paddingV,r=this._startIndex;r<=this._endIndex;r++)e=this.createItem(r),i=e,i.width=this._itemWidth,i.height=this._itemHeight,this.getDirection()==t.List.VERTICAL?i.move(r%this._col*n,(r/this._col|0)*o):i.move((r/this._col|0)*n,r%this._col*o)},i.prototype.add=function(t){this.addAt(t,this._datas.length)},i.prototype.addAt=function(e,i){if(t.MathUtil.isBetween(0,this._datas.length,i)){var n=this._datas.indexOf(e);-1==n&&(this._datas.splice(i,0,e),this.datas=this._datas)}},i.prototype.getItemAt=function(t){var e=this.getChildAt(t);return e},i.prototype.removeAt=function(e){t.MathUtil.isBetween(0,this._datas.length,e)&&(this._datas.splice(e,1),this.datas=this._datas)},i.prototype.remove=function(t){var e=this._datas.indexOf(t);this.removeAt(e)},i.prototype.getStartPosition=function(e){return e=0|Math.ceil(e/this._col),this.getDirection()==t.List.VERTICAL?(this._itemHeight+this._paddingV)*e:(this._itemWidth+this._paddingH)*e},i.prototype.findIndexAt=function(e,i,n){var o=.5*(i+n)|0,r=this.getStartPosition(o*this._col),s=this._itemWidth+this._paddingH;return this.getDirection()==t.List.VERTICAL&&(s=this._itemHeight+this._paddingV),e>=r&&r+s>e?o:i==n?-1:r>e?this.findIndexAt(e,i,Math.max(i,o-1)):this.findIndexAt(e,Math.min(o+1,n),n)},i.prototype.getIndexInView=function(){var e=this.showCount;if(0==e||0==this._width||0==this._height)return this._startIndex=-1,this._endIndex=-1,!1;var i,n,o;this.getDirection()==t.List.VERTICAL?(i=this._itemHeight,n=this._scrollV,o=this._height):(i=this._itemWidth,n=this._scrollH,o=this._width);var r=this.getStartPosition(e-1)+i;if(n>r)return this._startIndex=-1,this._endIndex=-1,!1;var s=n+o;if(0>s)return this._startIndex=-1,this._endIndex=-1,!1;var a=this._startIndex,l=this._endIndex;return this._startIndex=this.findIndexAt(n,0,Math.ceil((e-1)/this._col)),-1==this._startIndex?this._startIndex=0:this._startIndex=this._startIndex*this._col>=e?e-1:this._startIndex*this._col,this._endIndex=this.findIndexAt(s,0,Math.ceil((e-1)/this._col)),-1==this._endIndex?this._endIndex=e-1:this._endIndex=(this._endIndex+1)*this._col-1>=e?e-1:(this._endIndex+1)*this._col-1,a!=this._startIndex||l!=this._endIndex},i.prototype.createItem=function(e){for(var i,n=0;n<this._numChildren;n++)if(i=this._children[n],i.index==e)return i;i=t.Manager.pool.create(this._itemRender),i.index=e,this.addChildAt(i,e);for(var o=i.layers.length,n=0;o>n;n++)this.getSubLayer(n).addChild(i.layers[n]);return this._selector.addAt(i,e),i.setSelector(this._selector),i.setData(this._datas[e]),null!=this._createItemRender&&this._createItemRender.runCallBack(i,e),i},i.prototype.getSubLayer=function(e){var i=this._subLayers[e];return i||(i=t.Manager.pool.createDisplayObjectContainer(),this._subLayers[e]=i,this._layer.addChild(i),i.touchChildren=!0),i},i.prototype.drawContentSize=function(){this.getDirection()==t.List.VERTICAL?(this._contentHeight=this.getStartPosition(this.showCount),this._contentWidth=(this._itemWidth+this._paddingH)*this._col-this._paddingH):(this._contentHeight=(this._itemHeight+this._paddingV)*this._col-this._paddingV,this._contentWidth=this.getStartPosition(this.showCount)),this._sliderH&&this._sliderH.updateContentSize(),this._sliderV&&this._sliderV.updateContentSize()},i.prototype.scrollPositionChanged=function(){var e=this.getIndexInView();e&&(this._indexInViewCalculated=!0,this.invalidate(t.InvalidationType.LAYOUT))},i.prototype.getDirection=function(){var t=this.parent;return t.layout},i.prototype.createSortFun=function(e,i){this._sortFun=t.CallBackInfo.create(e,i)},i.prototype.unuse=function(){this._selector.dispose(),this._selector=null,this._datas=null,this._scrollRect=null,this._itemRender=null,this._createItemRender&&(this._createItemRender.pool(),this._createItemRender=null),this._layer=null;for(var i=this._subLayers.length,n=0;i>n;n++)t.Manager.pool.pushDisplayObjectContainer(this._subLayers[n]);this._subLayers=null,this._sortFun=null,this._sliderH=null,this._sliderV=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._selector.dispose(),this._selector=null,this._datas=null,this._scrollRect=null,this._itemRender=null,this._createItemRender&&(this._createItemRender.pool(),this._createItemRender=null),this._layer=null;for(var i=this._subLayers.length,n=0;i>n;n++)t.Manager.pool.pushDisplayObjectContainer(this._subLayers[n]);this._subLayers=null,this._sortFun=null,this._sliderH=null,this._sliderV=null,e.prototype.dispose.call(this)},i.prototype.__change=function(t,e){this._selector.__change(t,e)},i.DRAW_CONTENT_SIZE=1,i}(t.Container);t.ListContainer=e,__reflect(e.prototype,"devil.ListContainer",["devil.IListContainer","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._ismute=!1,this._sounds={},this._backVolume=1,this._effectVolume=1,t.Manager.stage.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTab,this)}return Object.defineProperty(e.prototype,"ismute",{get:function(){return this._ismute},set:function(t){this._ismute!=t&&(this._ismute=t,this._backSound&&(this._ismute?this._backSound.pause():this.playBackSound(null)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backVolume",{get:function(){return this._backVolume},set:function(t){this._backVolume!=t&&(this._backVolume=t,this._backSound&&(this._backSound.volume=this._backVolume))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectVolume",{get:function(){return this._effectVolume},set:function(t){this._effectVolume=t},enumerable:!0,configurable:!0}),e.prototype.playBackSound=function(t){this._backPath!=t&&(this._backPath=t?t:this._backPath,this.play())},e.prototype.play=function(){t.Model.lifecyclePause||this._ismute||(this._backSound&&(this._backSound.path==this._backPath?this._backSound.playFlag==i.READY&&this._backSound.play():(this._backSound.stop(),this._backSound=null)),this._backSound||(this._backSound=this._sounds[this._backPath.key],this._backSound||(this._backSound=new i(egret.Sound.MUSIC,this._backPath),this._backSound.load(),this._sounds[this._backPath.key]=this._backSound),this._backSound.play()))},e.prototype.playEffectSound=function(e){if(!this._ismute&&!t.Model.lifecyclePause){var n=this._sounds[e.key];n||(n=new i(egret.Sound.EFFECT,e),n.load(),this._sounds[e.key]=n),n.play(1)}},e.prototype.stopBackSound=function(){this._backSound&&this._backSound.stop()},e.prototype.___touchTab=function(t){this._backSound&&this._backSound.plugs()},e}();t.SoundManager=e,__reflect(e.prototype,"devil.SoundManager");var i=function(){function e(t,i){this._type=t,this._path=i,this._loops=1,this._playFlag=e.READY,this._loadComplete=!1,this._startTime=0}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playFlag",{get:function(){return this._playFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{set:function(t){this._soundChannel&&(this._soundChannel.volume=t)},enumerable:!0,configurable:!0}),e.prototype.load=function(){if(null==this._sound)try{this._sound=new egret.Sound,this._sound.type=this._type,this._sound.addEventListener(egret.Event.COMPLETE,this.___complete,this),this._sound.addEventListener(egret.IOErrorEvent.IO_ERROR,this.___ioError,this),this._sound.load(this._path.urls[0])}catch(e){t.Manager.log.trace(t.LogType.ERROR,"Sound Error:声音音频问题！")}},e.prototype.startPlay=function(){if(null==this._soundChannel)try{this._soundChannel=this._sound.play(this._startTime,this._loops),this._soundChannel.volume=this._type==egret.Sound.MUSIC?t.Manager.sound.backVolume:t.Manager.sound.effectVolume,this._soundChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.___playComplete,this)}catch(e){this.stop()}},e.prototype.stopChannel=function(){if(null!=this._soundChannel){this._soundChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.___playComplete,this);try{this._soundChannel.stop()}catch(e){t.Manager.log.trace(t.LogType.ERROR,"声音停止报错：",e)}this._soundChannel=null}},e.prototype.play=function(t){void 0===t&&(t=0),this._playFlag!=e.PLAYYING&&(this._playFlag=e.PLAYYING,this._loops=t,this._loadComplete&&this.startPlay())},e.prototype.stop=function(){this.stopChannel(),this._playFlag=e.READY,this._startTime=0},e.prototype.pause=function(){this._playFlag=e.READY,this._startTime=null!=this._soundChannel?this._soundChannel.position:0,this._loadComplete&&this._sound.length-this._startTime<10&&(this._startTime=0),this.stopChannel()},e.prototype.plugs=function(){if(this._loadComplete&&null!=this._soundChannel){var t=this._soundChannel.position;0==t&&(this.stop(),this.startPlay())}},e.prototype.___complete=function(t){this._loadComplete=!0,this._playFlag==e.PLAYYING&&this.startPlay()},e.prototype.___ioError=function(e){t.Manager.log.trace(t.LogType.ERROR,"Sound Error:",this._path.key),this._loadComplete=!1},e.prototype.___playComplete=function(t){this.stopChannel(),this._playFlag=e.READY,this._startTime=0},e.READY=0,e.PLAYYING=1,e}();t.SoundObject=i,__reflect(i.prototype,"devil.SoundObject")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.EMPTY=0,t.LAYOUT=256,t.SIZE=512,t.DATA=1024,t.STYLE=2048,t.ENABLED=4096,t.INIT=8192,t.ALL=t.LAYOUT|t.SIZE|t.DATA|t.STYLE|t.ENABLED,t}();t.InvalidationType=e,__reflect(e.prototype,"devil.InvalidationType")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.A=65,t.B=66,t.C=67,t.D=68,t.E=69,t.F=70,t.G=71,t.H=72,t.I=73,t.J=74,t.K=75,t.L=76,t.M=77,t.N=78,t.O=79,t.P=80,t.Q=81,t.R=82,t.S=83,t.T=84,t.U=85,t.V=86,t.W=87,t.X=88,t.Y=89,t.Z=90,t.NUM_0=48,t.NUM_1=49,t.NUM_2=50,t.NUM_3=51,t.NUM_4=52,t.NUM_5=53,t.NUM_6=54,t.NUM_7=55,t.NUM_8=56,t.NUM_9=57,t.ESC=27,t.ADD=187,t.SUB=189,t.SPACE=32,t.ENTER=13,t}();t.Keyboard=e,__reflect(e.prototype,"devil.Keyboard")}(devil||(devil={}));var devil;!function(t){var e;!function(t){t[t.KEY_DOWN=0]="KEY_DOWN",t[t.KEY_UP=1]="KEY_UP"}(e=t.KeyState||(t.KeyState={}))}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.getLayers=function(){return[this.COMMON_LAYER,this.UI_LAYER,this.EFFECT_LAYER,this.COMMON_TOP_LAYER]},t.EMPTY=0,t.COMMON_LAYER=1,t.UI_LAYER=2,t.EFFECT_LAYER=4,t.COMMON_TOP_LAYER=8,t}();t.LayerID=e,__reflect(e.prototype,"devil.LayerID")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.ELEMENT_EFFECT_BOTTOM=0,t.ELEMENT_SHADOW=1,t.ELEMENT1=2,t.ELEMENT2=3,t.ELEMENT_HEAD_VIP=4,t.ELEMENT_HEAD_TXT=5,t.ELEMENT_HEAD_TITLE=6,t.ELEMENT_HEAD_BLOOD=7,t.ELEMENT_EFFECT_TOP=8,t.ELEMENT_SCT=9,t.UI_HOME_IMAGE=0,t.UI_HOME=1,t.UI_HOME_EFFECT=2,t.UI_PANEL_DARK=3,t.UI_COMMON=4,t.UI_IMAGE=5,t.UI_NUM=6,t.UI_EFFECT=7,t.UI_COMMON1=8,t.UI_ALERT_MODE=9,t.UI_ALERT=10,t.UI_ALERT_MODE2=11,t.UI_ALERT2=12,t.UI_TIP_MODE=13,t.UI_TIP=14,t.UI_LOADING=15,t.UI_MASSAGE=16,t.UI_GM=17,t}();t.LayerSubIndex=e,__reflect(e.prototype,"devil.LayerSubIndex")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.MODE_TEXTURE_NAME="common_modal",t}();t.LibConst=e,__reflect(e.prototype,"devil.LibConst")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.WARNING=1,t.ERROR=2,t.DEBUG=4,t}();t.LogType=e,__reflect(e.prototype,"devil.LogType")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.INIT_FRIEND_RANK="initFriendRank",t.SWITCH_RANK="showRank",t.UPDATE_PAGE="updatePage",t.INIT="init",t.NEXT_FRIEND="nextFriend",t.SAVE_DATA="saveData",t}();t.OpenDataMessageType=e,__reflect(e.prototype,"devil.OpenDataMessageType")}(devil||(devil={}));var devil;!function(t){var e;!function(t){t[t.ON=0]="ON",t[t.AUTO=1]="AUTO",t[t.OFF=2]="OFF"}(e=t.ScrollPolicy||(t.ScrollPolicy={}))}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.UP_BACK_SKIN="upBackSkin",t.OVER_BACK_SKIN="overBackSkin",t.DOWN_BACK_SKIN="downBackSkin",t.SELECT_BACK_SKIN="selectBackSkin",t.DISENABLED_BACK_SKIN="disenabledBackSkin",t.UP_ICON_SKIN="upIconSkin",t.OVER_ICON_SKIN="overIconSkin",t.DOWN_ICON_SKIN="downIconSkin",t.SELECT_ICON_SKIN="selectIconSkin",t.DISENABLED_ICON_SKIN="disenabledIconSkin",t.UP_SCROLL_ARROW_SKIN="upScrollArrowSkin",t.OVER_SCROLL_ARROW_SKIN="overScrollArrowSkin",t.DOWN_SCROLL_ARROW_SKIN="downScrollArrowSkin",t}();t.StyleName=e,__reflect(e.prototype,"devil.StyleName")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.VERSION="2020-07-20",t}();t.UIVersion=e,__reflect(e.prototype,"devil.UIVersion")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.LOOP=1,t.ONCE=2,t}();t.WrapMode=e,__reflect(e.prototype,"devil.WrapMode")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.MAGIC_TOUCH="wxb7cfa7f3b4286c84",t.JUMP="wxb59122e4e78319bc",t.MOTO="wxd4d31d60e449232e",t.PUZZLE="wx6101893a5ea931f7",t.COLOR="",t}();t.WXAPPID=e,__reflect(e.prototype,"devil.WXAPPID")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.initCMD()}return e.prototype.initCMD=function(){},e.prototype.addCMD=function(e,i){t.Manager.socket.addCMD(e,i)},e.prototype.send=function(e){t.Manager.socket.getCMD(e).send()},e.prototype.getCMD=function(e){return t.Manager.socket.getCMD(e)},e}();t.BaseControl=e,__reflect(e.prototype,"devil.BaseControl")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.start()}return e.prototype.start=function(){this._frameJsons=[],this._frames={}},e.prototype.parseJson=function(e){if(null!=e){var i;for(i in e.mc)break;var n=e.mc[i].frames;this.totalFrames=n.length;for(var o,r,s,a,l,h=0;h<this.totalFrames;h++)o=n[h].res,r=n[h].x,s=n[h].y,a=e.res[o],l=t.AnimationFrameJson.create(o,r,s,a),this._frameJsons.push(l)}},e.prototype.getKeyFrameData=function(t){return null==this._frames[t]&&this.createFrameData(t),this._frames[t]},e.prototype.createFrameData=function(e){var i=this._frameJsons[e-1],n=i?i.rectObj:{x:0,y:0,w:1,h:1},o=t.Manager.pool.createTexture();o.bitmapData=this._texture.bitmapData,o.disposeBitmapData=!1,o.$initData(n.x,n.y,n.w,n.h,0,0,n.w,n.h,this._texture.bitmapData.width,this._texture.bitmapData.height),this._frames[e]=t.AnimationFrameData.create(i?i.offX:0,i?i.offY:0,o)},e.prototype.reuse=function(){this.start()},e.prototype.unuse=function(){for(var e=this._frameJsons.length,i=0;e>i;i++)this._frameJsons[i].pool();this._frameJsons=null;for(var n in this._frames)this._frames[n].pool(),delete this._frames[n];this._frames=null,this.totalFrames=0,this._texture&&(t.Manager.pool.pushTexture(this._texture),this._texture=null)},e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.dispose=function(){this.unuse()},e.create=function(i,n){var o=t.Manager.pool.createTexture();o.bitmapData=i;var r=t.Manager.pool.create(e);return r._texture=o,r.parseJson(n),r},e}();t.AnimationData=e,__reflect(e.prototype,"devil.AnimationData",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.UPDATE_RECEIVE_COUNT="updateReceiveCount",e}(t.BaseEvent);t.WXGameEvent=e,__reflect(e.prototype,"devil.WXGameEvent")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.parse=function(i){i instanceof egret.BitmapData?this._bitmapData=i:this._json=JSON.parse(i),null!=this._json&&null!=this._bitmapData&&(e.prototype.parse.call(this,i),this.sheet=t.AnimationData.create(this._bitmapData,this._json),this._bitmapData=null,this._json=null)},i.prototype.unuse=function(){e.prototype.unuse.call(this),this.sheet&&(this.sheet.pool(),this.sheet=null),this._bitmapData=null,this._json=null},i.prototype.load=function(){e.prototype.load.call(this),this.$load(egret.HttpResponseType.TEXT,0),this.$loadImage(this._path.urls[1])},i.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(t),0==t?this.$load(egret.HttpResponseType.TEXT,0):this.$loadImage(this._path.urls[1])},i.abc=!1,i}(t.BaseLoader);t.AnimationLoader=e,__reflect(e.prototype,"devil.AnimationLoader")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.reuse=function(){},e.prototype.unuse=function(){this.offX=0,this.offY=0,this.frameName="",this.rectObj=null},e.prototype.pool=function(){return t.Manager.pool.push(this)},e.prototype.dispose=function(){this.unuse()},e.create=function(i,n,o,r){var s=t.Manager.pool.create(e);return s.frameName=i,s.offX=n,s.offY=o,s.rectObj=r,s},e}();t.AnimationFrameJson=e,__reflect(e.prototype,"devil.AnimationFrameJson",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._current=0}return e.prototype.reuse=function(){this._current=0},e.prototype.oneComplete=function(e){this._total<=this._current&&(this._callBack&&this._callBack.runCallBack(),t.Manager.pool.push(this))},e.prototype.unuse=function(){for(var e=this._paths.length,i=0;e>i;i++)t.Manager.loader.remove(this._paths[i],this.__oneComplete,this,this.__error,this);this._paths=null,this._callBack&&this._callBack.pool(),this._callBack=null,this._oneComplete=null,this._oneTarget=null,this._oneError=null,this._errorTarget=null},e.prototype.dispose=function(){this.unuse()},e.prototype.__error=function(t){this._current++,this._oneError&&this._oneError.apply(this._errorTarget,null),this.oneComplete(t)},e.prototype.__oneComplete=function(t){this._current++,this._oneComplete&&this._oneComplete.apply(this._oneTarget,null),this.oneComplete(t)},e.create=function(i,n,o,r,s,a,l,h,c){var u=t.Manager.pool.create(e);u._paths=i,null!=r&&(u._callBack=t.CallBackInfo.create(r,s)),u._oneComplete=a,u._oneTarget=l,u._oneError=h,u._errorTarget=c,u._total=i.length;for(var p=i.length,_=0;p>_;_++)t.Manager.loader.load(i[_],u.__oneComplete,u,n,o,u.__error,u);return u},e}();t.BatchLoader=e,__reflect(e.prototype,"devil.BatchLoader",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.load=function(){t.prototype.load.call(this),this.$load(egret.HttpResponseType.ARRAY_BUFFER,0)},e.prototype.reload=function(e){t.prototype.reload.call(this,e),this._path.reload(0),this.$load(egret.HttpResponseType.ARRAY_BUFFER,0)},e.prototype.parse=function(e){t.prototype.parse.call(this,e),this.bytes=e},e.prototype.unuse=function(){this.bytes=null,t.prototype.unuse.call(this)},e}(t.BaseLoader);t.ByteLoader=e,__reflect(e.prototype,"devil.ByteLoader")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.parse=function(i){i instanceof egret.BitmapData?(this.texture=t.Manager.pool.createTexture(),this.texture.bitmapData=i):i instanceof ArrayBuffer?this.bytes=i:this.json=JSON.parse(i),null!=this.json&&null!=this.texture&&null!=this.bytes&&e.prototype.parse.call(this,i)},i.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(t),0==t?this.$load(egret.HttpResponseType.ARRAY_BUFFER,0):1==t?this.$load(egret.HttpResponseType.TEXT,1):2==t&&this.$loadImage(this._path.urls[2])},i.prototype.load=function(){e.prototype.load.call(this),this.$load(egret.HttpResponseType.ARRAY_BUFFER,0),this.$load(egret.HttpResponseType.TEXT,1),this.$loadImage(this._path.urls[2])},i.prototype.unuse=function(){this.bytes=null,null!=this.texture&&(t.Manager.pool.pushTexture(this.texture),this.texture=null),this.json=null,e.prototype.unuse.call(this)},i}(t.BaseLoader);t.DragonLoader=e,__reflect(e.prototype,"devil.DragonLoader")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.parse=function(i){e.prototype.parse.call(this,i);var n=t.Manager.pool.createTexture();n.bitmapData=i,this.texture=n},i.prototype.load=function(){e.prototype.load.call(this),this.$loadImage(this._path.urls[0])},i.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(0),this.$loadImage(this._path.urls[0])},i.prototype.unuse=function(){this.texture&&(t.Manager.pool.pushTexture(this.texture),this.texture=null),e.prototype.unuse.call(this)},i}(t.BaseLoader);t.ImageLoader=e,__reflect(e.prototype,"devil.ImageLoader")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.WAITING=0,t.LOADING=1,t.SUCESS=2,t.FAIL=3,t
}();t.LoaderState=e,__reflect(e.prototype,"devil.LoaderState")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.MAP_DATA=0,t.ANI=1,t.TEXT=2,t.BIN=3,t.SOUND=4,t.IMAGE=5,t.TEXTURE=6,t.DRAGON=7,t.MOVIE_CLIP=8,t}();t.LoaderType=e,__reflect(e.prototype,"devil.LoaderType")}(devil||(devil={}));var devil;!function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prototype.parse=function(n){if(n instanceof egret.BitmapData)this.texture=t.Manager.pool.createTexture(),this.texture.bitmapData=n;else{var o=t.Manager.pool.create(t.ByteArrayExtend);o.setArrayBuffer(n),this.mapData=i.create(o),o.pool()}null!=this.texture&&null!=this.mapData&&e.prototype.parse.call(this,n)},n.prototype.load=function(){e.prototype.load.call(this),this.$load(egret.HttpResponseType.ARRAY_BUFFER,0),this.$loadImage(this._path.urls[1])},n.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(t),0==t?this.$load(egret.HttpResponseType.ARRAY_BUFFER,0):this.$loadImage(this._path.urls[1])},n.prototype.unuse=function(){e.prototype.unuse.call(this),null!=this.mapData&&(this.mapData.pool(),this.mapData=null),null!=this.texture&&(t.Manager.pool.pushTexture(this.texture),this.texture=null)},n}(t.BaseLoader);t.MapLoader=e,__reflect(e.prototype,"devil.MapLoader");var i=function(){function e(){this.source=[]}return e.prototype.parse=function(t){for(var e=(t.readShort(),t.readShort()),i=t.readShort(),n=0;e>n;n++){var o=[];this.source.push(o);for(var r=0;i>r;r++)o.push(t.readByte())}},e.prototype.isEmpty=function(t,e){return 0>t||t>=this.source.length||e>=this.source[0].length||0>e?!1:this.source[t][e]==n.UN_WALK},e.prototype.reuse=function(){},e.prototype.unuse=function(){this.source=[]},e.prototype.dispose=function(){this.source=null},e.prototype.pool=function(){t.Manager.pool.push(this)},e.create=function(i){var n=t.Manager.pool.create(e);return n.parse(i),n},e}();t.MapData=i,__reflect(i.prototype,"devil.MapData",["devil.IPool","devil.IDispose"]);var n=function(){function t(){}return t.UN_WALK=0,t.WALK=1,t.ALPHA=2,t.ABSOLUTR=4,t.WATER=8,t.DESERT=16,t}();t.MapDataType=n,__reflect(n.prototype,"devil.MapDataType")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.parse=function(i){i instanceof egret.BitmapData?(this.texture=t.Manager.pool.createTexture(),this.texture.bitmapData=i):this.json=JSON.parse(i),null!=this.json&&null!=this.texture&&(this.data=new egret.MovieClipDataFactory(this.json,this.texture),e.prototype.parse.call(this,i))},i.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(t),0==t?this.$load(egret.HttpResponseType.TEXT,1):1==t&&this.$loadImage(this._path.urls[1])},i.prototype.load=function(){e.prototype.load.call(this),this.$load(egret.HttpResponseType.TEXT,0),this.$loadImage(this._path.urls[1])},i.prototype.unuse=function(){null!=this.texture&&(t.Manager.pool.pushTexture(this.texture),this.texture=null),this.json=null,this.data.clearCache(),this.data=null,e.prototype.unuse.call(this)},i}(t.BaseLoader);t.MovieClipLoader=e,__reflect(e.prototype,"devil.MovieClipLoader")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(i,n,o,r,s){void 0===s&&(s=!0),this.urls=[],this.key=i,this.urls.push((s?t.Manager.loader.rootToURL(i):i)+(1==t.Manager.loader.needVersion?"?v="+t.Version.clientVersion+"_"+n:"")),this.size=o,this.memory=r,this._version=n,e._dic[i]=this}return e.prototype.setURL=function(e){var i;switch(this.loaderType=e,e){case t.LoaderType.ANI:case t.LoaderType.TEXTURE:i=t.Manager.loader.rootToURL(this.key.replace(t.Extension.JSON_,t.Extension.PNG_)),t.Manager.loader.needVersion&&(i=i+"?v="+t.Version.clientVersion+"_"+this._version),this.urls[1]=i;break;case t.LoaderType.MAP_DATA:i=t.Manager.loader.rootToURL(this.key.replace("path.txt","smallMap.jpg")),t.Manager.loader.needVersion&&(i=i+"?v="+t.Version.clientVersion+"_"+this._version),this.urls[1]=i;break;case t.LoaderType.DRAGON:i=t.Manager.loader.rootToURL(this.key.replace("_ske.dbbin","_tex.json")),t.Manager.loader.needVersion&&(i=i+"?v="+t.Version.clientVersion+"_"+this._version),this.urls[1]=i,i=t.Manager.loader.rootToURL(this.key.replace("_ske.dbbin","_tex.png")),t.Manager.loader.needVersion&&(i=i+"?v="+t.Version.clientVersion+"_"+this._version),this.urls[2]=i;break;case t.LoaderType.MOVIE_CLIP:i=t.Manager.loader.rootToURL(this.key.replace("_mc.json","_tex.png")),t.Manager.loader.needVersion&&(i=i+"?v="+t.Version.clientVersion+"_"+this._version),this.urls[1]=i}},e.prototype.reload=function(e){if(t.Manager.loader.needVersion){var i=this.urls[e],n=i.split("?v=");i=n[0]+"?v="+Math.random()}},e.getPath=function(t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o="0");var r=this._dic[t];return null==r&&(r=new e(t,o,0,0,n)),r.setURL(i),r},e._dic={},e}();t.PathInfo=e,__reflect(e.prototype,"devil.PathInfo")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.keyMap={}}return e.prototype.parseConfig=function(t,e){if(t){var i=t.resources;if(i)for(var n=i.length,o=0;n>o;o++){var r=i[o],s=r.url;s&&-1==s.indexOf("://")&&(r.url=e+s),this.addItemToKeyMap(r)}}},e.prototype.addItemToKeyMap=function(t){if(this.keyMap[t.name]||(this.keyMap[t.name]=t),t.hasOwnProperty("subkeys")){var e=t.subkeys.split(",");t.subkeys=e;for(var i=e.length,n=0;i>n;n++){var o=e[n];null==this.keyMap[o]&&(this.keyMap[o]=t)}}},e.prototype.addSubkey=function(t,e){var i=this.keyMap[e];i&&!this.keyMap[t]&&(this.keyMap[t]=i)},e.prototype.getName=function(t){var e=this.keyMap[t];return e?e.name:""},e.prototype.contains=function(t,e){var i=this.keyMap[e];return i.url==t},e.prototype.getType=function(t){var e=this.keyMap[t];return e?e.type:""},e.prototype.getRawResourceItem=function(t){return this.keyMap[t]},e.prototype.getResourceItem=function(t){var e=this.keyMap[t];return e?this.parseResourceItem(e):null},e.prototype.getURL=function(t){var e=this.getResourceItem(t);return e?this.getResourceItem(t).url:t},e.prototype.parseResourceItem=function(e){var i=new t.ResourceItem(e.name,e.url);return i},e}();t.ResourceConfig=e,__reflect(e.prototype,"devil.ResourceConfig",["devil.IResourceConfig"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.keyMap={}}return e.prototype.getURL=function(t){var e=this.getResourceItem(t);return e?e.url:t},e.prototype.parseConfig=function(e,i){i=null==i?this.folder:i;for(var n,o,r,s=e,a=(s.readUTF(),s.readByte()),l=0;a>l;l++){n=s.readUTF(),o=s.readShort();for(var h=0;o>h;h++)r=new t.ResourceItem(s.readUTF(),i+n+t.Extension.JSON_),s.readBoolean()&&(r.scale9Grid=new egret.Rectangle(s.readShort(),s.readShort(),s.readShort(),s.readShort())),this.keyMap[r.name]=r}},e.prototype.getName=function(t){var e=this.keyMap[t];return e?e.name:""},e.prototype.contains=function(t,e){var i=this.keyMap[e];return i.url==t},e.prototype.getResourceItem=function(t){return this.keyMap[t]},e}();t.ResourceConfig2=e,__reflect(e.prototype,"devil.ResourceConfig2",["devil.IResourceConfig"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.getGCTime=function(e){return e==t.NOW?0:e==t.SOUND?0:e==t.MAP?6e4:e==t.COMMON?6e4:e==t.ANIMATION?12e4:e==t.ERROR?0:6e4},t.NEVER=1,t.NOW=2,t.COMMON=3,t.MAP=4,t.ANIMATION=5,t.SOUND=6,t.ERROR=7,t}();t.ResourceGCType=e,__reflect(e.prototype,"devil.ResourceGCType")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(t,e){this.name=t,this.url=e}return t}();t.ResourceItem=e,__reflect(e.prototype,"devil.ResourceItem")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.LOWER=0,t.LOAD_LEVEL1=1,t.LOAD_LEVEL2=2,t.LOAD_LEVEL3=3,t.LOAD_LEVEL4=4,t.LOAD_LEVEL5=5,t.LOAD_LEVEL6=6,t.MAX=100,t}();t.ResPriorityType=e,__reflect(e.prototype,"devil.ResPriorityType")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._bitmapX=0,t._bitmapY=0,t._textureMap=egret.createMap(),t}return __extends(i,e),Object.defineProperty(i.prototype,"bitmapData",{set:function(e){this._texture=t.Manager.pool.createTexture(),this._texture.bitmapData=e,this._bitmapX=this._texture.$bitmapX-this._texture.$offsetX,this._bitmapY=this._texture.$bitmapY-this._texture.$offsetY},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"json",{set:function(t){this._json=t},enumerable:!0,configurable:!0}),i.prototype.getTexture=function(t){if(null==this._textureMap[t]){var e=this._json[t];this.createTexture(t,e.x,e.y,e.w,e.h,e.offX,e.offY,e.sourceW,e.sourceH,e.scale9grid)}return this._textureMap[t]},i.prototype.createTexture=function(e,i,n,o,r,s,a,l,h,c){void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=s+o),void 0===h&&(h=a+r);var u=t.Manager.pool.createTexture();if(u.disposeBitmapData=!1,u.$bitmapData=this._texture.$bitmapData,u.$initData(this._bitmapX+i,this._bitmapY+n,o,r,s,a,l,h,this._texture.$sourceWidth,this._texture.$sourceHeight),c){var p=c.split(",");u.scale9Grid=new egret.Rectangle(parseInt(p[0]),parseInt(p[1]),parseInt(p[2]),parseInt(p[3]))}return this._textureMap[e]=u,u},i.prototype.reuse=function(){},i.prototype.unuse=function(){this._json=null;for(var e in this._textureMap)t.Manager.pool.pushTexture(this._textureMap[e]),this._textureMap[e]=null;t.Manager.pool.pushTexture(this._texture),this._texture=null},i.prototype.dispose=function(){this.unuse()},i.create=function(e,n){var o=t.Manager.pool.create(i);return o.bitmapData=e,o.json=n,o},i}(egret.HashObject);t.SpriteSheet=e,__reflect(e.prototype,"devil.SpriteSheet",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.post=function(t){this._isPost=!0,this._params=t},e.prototype.load=function(){t.prototype.load.call(this),this.$load(egret.HttpResponseType.TEXT,0)},e.prototype.reload=function(e){t.prototype.reload.call(this,e),this._path.reload(0),this.$load(egret.HttpResponseType.TEXT,0)},e.prototype.$request=function(e,i){this._isPost?(e.open(this._path.urls[i],egret.HttpMethod.POST),e.send(this._params)):t.prototype.$request.call(this,e,i)},e.prototype.parse=function(e){t.prototype.parse.call(this,e),this.text=e},e.prototype.unuse=function(){this.text=null,this._isPost=!1,this._params=null,t.prototype.unuse.call(this)},e}(t.BaseLoader);t.TextLoader=e,__reflect(e.prototype,"devil.TextLoader")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.getTexture=function(t){return this._sheet?this._sheet.getTexture(t):null},i.prototype.parse=function(i){if(i instanceof egret.BitmapData)this._bitmapData=i;else{var n=JSON.parse(i);null!=n.frames?this._json=n.frames:this._json=n}null!=this._json&&null!=this._bitmapData&&(e.prototype.parse.call(this,i),this._sheet=t.SpriteSheet.create(this._bitmapData,this._json),this._bitmapData=null,this._json=null)},i.prototype.reload=function(t){e.prototype.reload.call(this,t),this._path.reload(t),0==t?this.$load(egret.HttpResponseType.TEXT,0):this.$loadImage(this._path.urls[1])},i.prototype.load=function(){e.prototype.load.call(this),this.$load(egret.HttpResponseType.TEXT,0),this.$loadImage(this._path.urls[1])},i.prototype.unuse=function(){e.prototype.unuse.call(this),this._sheet&&(this._sheet.dispose(),this._sheet=null),this._bitmapData=null,this._json=null},i.prototype.gc=function(){return this._count<=0?egret.getTimer()-this._unUseTimer>=t.ResourceGCType.getGCTime(this._resourceGCType)?(t.Manager.log.trace(t.LogType.DEBUG,"资源释放",this._path.urls[0],this._path.urls[1]),this.pool(),!0):!1:(t.AnimationLoader.abc&&t.Manager.log.trace(t.LogType.DEBUG,"资源未释放",this._path.urls[0],this._path.urls[1],this._count),!1)},i}(t.BaseLoader);t.TextureLoader=e,__reflect(e.prototype,"devil.TextureLoader")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.clientVersion="20190509",t}();t.Version=e,__reflect(e.prototype,"devil.Version")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._seeRect=new egret.Rectangle(0,0,t.Manager.stage.width,t.Manager.stage.height),this._seeRectRC=new egret.Rectangle(0,0,0,0),this._focus=new egret.Point(0,0),this._mapSeeRect=new egret.Rectangle(0,0,0,0),this._centerRect=new egret.Rectangle(0,0,e.CENTER_W,e.CENTER_H)}return e.prototype.getCenterRect=function(){return this._centerRect},Object.defineProperty(e.prototype,"init",{get:function(){return this._init},enumerable:!0,configurable:!0}),e.prototype.setFocus=function(i,n,o){if(void 0===o&&(o=!1),this._focus.x=i,this._focus.y=n,o||!this._centerRect.contains(i,n)){var r=t.Manager.stage.width,s=t.Manager.stage.height,a=r>>1,l=s>>1;r>=this._mapSeeRect.width?(this._centerRect.x=0,this._centerRect.width=this._mapSeeRect.width,this._seeRect.x=0):i<=a-.5*e.CENTER_W?(this._centerRect.x=0,this._centerRect.width=a+.5*e.CENTER_W,this._seeRect.x=0):i>=this._mapSeeRect.width-a+e.CENTER_W?(this._centerRect.x=this._mapSeeRect.width-a,this._centerRect.width=a,this._seeRect.x=Math.max(this._mapSeeRect.width-r,0)):(o&&(this._centerRect.width=e.CENTER_W,this._centerRect.x=i-(e.CENTER_W>>1),this._centerRect.x-a+this._seeRect.width>this._mapSeeRect.right&&(this._centerRect.x=i-e.CENTER_W)),i<this._centerRect.x?(this._centerRect.x=i,this._centerRect.width=e.CENTER_W):i>this._centerRect.right&&(this._centerRect.x=i-this._centerRect.width,this._centerRect.width=e.CENTER_W),this._seeRect.x=Math.max(this._centerRect.x-a,0)),s>=this._mapSeeRect.height?(this._centerRect.y=0,this._centerRect.height=this._mapSeeRect.height,this._seeRect.y=0):n<=l-.5*e.CENTER_H?(this._centerRect.y=0,this._centerRect.height=l+.5*e.CENTER_H,this._seeRect.y=0):n>=this._mapSeeRect.height-l+e.CENTER_H?(this._centerRect.y=this._mapSeeRect.height-l,this._centerRect.height=l,this._seeRect.y=Math.max(this._mapSeeRect.height-s,0)):(o&&(this._centerRect.height=e.CENTER_H,this._centerRect.y=n-(e.CENTER_H>>1)),n<this._centerRect.y?(this._centerRect.y=n,this._centerRect.height=e.CENTER_H):n>this._centerRect.bottom&&(this._centerRect.y=n-this._centerRect.height,this._centerRect.height=e.CENTER_H),this._seeRect.y=Math.max(this._centerRect.y-l,0))}},e.prototype.updateStageSize=function(){this._init&&(this._seeRect.width=Math.min(t.Manager.stage.width,this._mapSeeRect.width),this._seeRect.height=Math.min(t.Manager.stage.height,this._mapSeeRect.height),this.setFocus(this._focus.x,this._focus.y,!0))},e.prototype.getMapSeeRect=function(){return this._mapSeeRect},e.prototype.getSeeRect=function(){return this._seeRect},e.prototype.updateMapSeeRect=function(t,e){this._mapSeeRect.width=t,this._mapSeeRect.height=e,this._init||(this._init=!0,this.updateStageSize())},e.prototype.updateSeeRectRC=function(t,e,i,n){this._seeRectRC.x=t,this._seeRectRC.y=e,this._seeRectRC.width=i,this._seeRectRC.height=n},e.prototype.needUpdateTiled=function(){return!this._seeRectRC.containsRect(this._seeRect)},e.prototype.getFocus=function(){return this._focus},e.CENTER_W=50,e.CENTER_H=50,e}();t.CameraManager=e,__reflect(e.prototype,"devil.CameraManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.createImage=function(e,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=-1),void 0===r&&(r=-1);var s=t.View.create(t.Image);return s.setSize(o,r),s.move(i,n),s.source=e,s},e.prototype.createButtonImage=function(e,i,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var s=t.View.create(t.ButtonImage);return s.setStyle(t.StyleName.UP_BACK_SKIN,e),s.setSize(i,n),s.move(o,r),s},e.prototype.createText=function(e,i,n,o,r,s,a){void 0===s&&(s=24),void 0===a&&(a="center");var l=t.View.create(t.Text);return l.color=r,l.size=s,l.align=a,l.verticalAlign=egret.VerticalAlign.MIDDLE,l.setSize(n,o),l.move(e,i),l.repaint(),l},e.prototype.createButtonIcon=function(e,i,n,o,r,s){var a=t.View.create(t.ButtonIcon);return a.setStyle(t.StyleName.UP_BACK_SKIN,e),a.setStyle(t.StyleName.UP_ICON_SKIN,i),a.setSize(r,s),a.move(n,o),a},e.prototype.createImageRemote=function(e,i,n,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=-1),void 0===o&&(o=-1);var r=t.View.create(t.ImageRemote);return r.move(e,i),r.setSize(n,o),r},e.prototype.createContainer=function(e){void 0===e&&(e=1);var i=t.View.create(t.Container);return i.autoCreateLayer(e),i},e.prototype.createListContainer=function(e,i,n,o){void 0===o&&(o=[]);var r=t.View.create(t.ListContainer);return r.touchChildren=!0,r.itemRenderer=e,r.itemWidth=i,r.itemHeight=n,r.datas=o,r},e.prototype.createListContainer2=function(e,i){void 0===i&&(i=[]);var n=t.View.create(t.ListContainer2);return n.touchChildren=!0,n.itemRenderer=e,n.datas=i,n},e.prototype.createList=function(e,i,n,o,r){void 0===n&&(n=t.ScrollPolicy.AUTO),void 0===o&&(o=t.ScrollPolicy.OFF),void 0===r&&(r=t.List.VERTICAL);var s=t.View.create(t.List);return s.width=e,s.height=i,s.touchChildren=!0,s.scrollPolicyH=o,s.scrollPolicyV=n,s.layout=r,s},e.prototype.createListSlider=function(e,i,n,o){var r=t.View.create(t.ListSlider);return r.setSize(e,i),r.touchChildren=!0,r.listWidth=n,r.listHeight=o,r},e.prototype.createTextInput=function(e,i,n,o,r,s,a,l){void 0===s&&(s=24),void 0===l&&(l="center");var h=t.View.create(t.TextInput);return h.move(e,i),h.setSize(n,o),h.setStyle(t.StyleName.UP_BACK_SKIN,a),h.color=r,h.size=s,h.align=l,h},e.prototype.createCheckBox1=function(e,i,n,o){void 0===n&&(n=t.Color.WHITE),void 0===o&&(o=18);var r=t.View.create(t.CheckBox1);return r.label.color=n,r.label.size=o,r.setStyle(t.StyleName.UP_BACK_SKIN,e),r.setStyle(t.StyleName.SELECT_ICON_SKIN,i),r},e.prototype.createBoxContainer=function(e,i,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var r=t.BoxContainer.createSelf(e,i,n,o);return r},e.prototype.createTab=function(){var e=t.View.create(t.Tab);return e},e.prototype.createAnimation=function(){var e=t.Manager.pool.create(t.Animation);return e},e}();t.ComponentManager=e,__reflect(e.prototype,"devil.ComponentManager")}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(egret.EventDispatcher);t.EventManager=e,__reflect(e.prototype,"devil.EventManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){function e(e){e.target&&"text"==e.target.type||-1==n._pushKeys.indexOf(e.keyCode)&&(n._pushKeys.push(e.keyCode),t.Manager.render.add(n.___pushRender,n,n._firstDelay,1),n.sort(n._pushKeys),n.callBack(n._pushKeys.join("|"),t.KeyState.KEY_DOWN))}function i(e){var i=n._keyDowns.indexOf(e.keyCode);-1!=i&&n._keyDowns.splice(i,1),i=n._pushKeys.indexOf(e.keyCode),-1!=i&&(n._pushKeys.splice(i,1),n.callBack(e.keyCode+"",t.KeyState.KEY_UP)),0==n._pushKeys.length&&t.Manager.render.remove(n.___pushRender,n),0==n._keyDowns.length&&t.Manager.render.remove(n.___render,n)}this._firstDelay=500,this._keyDowns=[],this._pushKeys=[],this._functions={};var n=this;egret.Capabilities.isMobile||(document.onkeydown=e,document.onkeyup=i)}return Object.defineProperty(e.prototype,"firstDelay",{set:function(t){this._firstDelay=t},enumerable:!0,configurable:!0}),e.prototype.hasKey=function(t){return-1!=this._pushKeys.indexOf(t)},e.prototype.add=function(t,e,i){this.adds([t],e,i)},e.prototype.remove=function(t,e,i){this.removes([t],e,i)},e.prototype.adds=function(e,i,n){this.sort(e);var o=e.join("|"),r=this._functions[o];r||(r=[],this._functions[o]=r),-1==t.CallBackInfo.contains(r,i,n)&&r.push(t.CallBackInfo.create(i,n))},e.prototype.removes=function(e,i,n){this.sort(e);var o=e.join("|"),r=this._functions[o];if(r){var s=t.CallBackInfo.contains(r,i,n);-1!=s&&r.splice(s,1)}},e.prototype.callBack=function(t,e){var i=this._functions[t];if(i)for(var n=i.length,o=0;n>o;o++)i[o].runCallBack(t,e)},e.prototype.sort=function(t){t.sort(function(t,e){return t>e?1:e>t?-1:0})},e.prototype.___render=function(e){this._keyDowns.length>0&&this.callBack(this._keyDowns.join("|"),t.KeyState.KEY_DOWN)},e.prototype.___pushRender=function(e){for(var i,n=0;n<this._pushKeys.length;n++)i=this._pushKeys[n],-1==this._keyDowns.indexOf(i)&&this._keyDowns.push(i);this.sort(this._keyDowns),this._keyDowns.length>0&&t.Manager.render.add(this.___render,this)},e}();t.KeyboardManager=e,__reflect(e.prototype,"devil.KeyboardManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._dic={}}return e.prototype.parse=function(t){for(var e,i,n=t.readByte(),o=0;n>o;o++){e=t.readUTF(),i=t.readShort();for(var r=0;i>r;r++)this._dic[e+t.readShort()]=t.readUTF()}},e.prototype.getContent=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this._dic[e];return null==o?"{-"+e+"-}":0==i.length?o:t.StringUtil.substitute.apply(t.StringUtil,[o].concat(i))},e}();t.LangManager=e,__reflect(e.prototype,"devil.LangManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(t){this._root=t,this._elementLayers=[],this._uiLayers=[],this._moveLayers=[],this._elementSub3Layers=[],this.mapLayer=this.createLayer(t,0,!0,!1,!0),this.mapLayer.name="mapLayer",this.elementLayer=this.createLayer(t,1,!1,!0,!0),this.elementLayer.name="elementLayer",this.uiLayer=this.createLayer(t,2,!1,!0,!1),this.uiLayer.name="uiLayer",this.initLayer()}return e.prototype.initLayer=function(){this.initSubLayer(1,t.LayerSubIndex.ELEMENT_EFFECT_BOTTOM,!1,!1,"ELEMENT_EFFECT_BOTTOM"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_SHADOW,!1,!1,"ELEMENT_SHADOW"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT1,!1,!0,"ELEMENT1"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT2,!1,!0,"ELEMENT2"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_HEAD_VIP,!1,!1,"ELEMENT_HEAD_VIP"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_HEAD_TXT,!1,!1,"ELEMENT_HEAD_TXT"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_HEAD_TITLE,!1,!1,"ELEMENT_HEAD_TITLE"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_HEAD_BLOOD,!1,!1,"ELEMENT_HEAD_BLOOD"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_EFFECT_TOP,!1,!1,"ELEMENT_EFFECT_TOP"),this.initSubLayer(1,t.LayerSubIndex.ELEMENT_SCT,!1,!1,"ELEMENT_SCT"),this.initSubLayer(2,t.LayerSubIndex.UI_HOME_IMAGE,!1,!0,"UI_HOME_IMAGE"),this.initSubLayer(2,t.LayerSubIndex.UI_HOME,!1,!0,"UI_HOME"),this.initSubLayer(2,t.LayerSubIndex.UI_HOME_EFFECT,!1,!0,"UI_HOME_EFFECT"),this.initSubLayer(2,t.LayerSubIndex.UI_PANEL_DARK,!1,!0,"UI_PANEL_DARK"),this.initSubLayer(2,t.LayerSubIndex.UI_COMMON,!1,!0,"UI_COMMON"),this.initSubLayer(2,t.LayerSubIndex.UI_IMAGE,!1,!0,"UI_IMAGE"),this.initSubLayer(2,t.LayerSubIndex.UI_NUM,!1,!1,"UI_NUM"),this.initSubLayer(2,t.LayerSubIndex.UI_EFFECT,!1,!0,"UI_EFFECT"),this.initSubLayer(2,t.LayerSubIndex.UI_COMMON1,!1,!0,"UI_COMMON1"),this.initSubLayer(2,t.LayerSubIndex.UI_ALERT_MODE,!1,!0,"UI_ALERT_MODE"),this.initSubLayer(2,t.LayerSubIndex.UI_ALERT,!1,!0,"UI_ALERT"),this.initSubLayer(2,t.LayerSubIndex.UI_ALERT_MODE2,!1,!0,"UI_ALERT_MODE2"),this.initSubLayer(2,t.LayerSubIndex.UI_ALERT2,!1,!0,"UI_ALERT2"),this.initSubLayer(2,t.LayerSubIndex.UI_TIP_MODE,!1,!0,"UI_TIP_MODE"),this.initSubLayer(2,t.LayerSubIndex.UI_TIP,!1,!0,"UI_TIP"),this.initSubLayer(2,t.LayerSubIndex.UI_LOADING,!1,!0,"UI_LOADING"),this.initSubLayer(2,t.LayerSubIndex.UI_MASSAGE,!1,!0,"UI_MASSAGE"),this.initSubLayer(2,t.LayerSubIndex.UI_GM,!1,!0,"UI_GM")},e.prototype.initSubLayer=function(e,i,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r="");var s,a,l;1==e&&null==this._elementLayers[i]?(a=this.elementLayer,l=this._elementLayers):2==e&&null==this._uiLayers[i]&&(a=this.uiLayer,l=this._uiLayers),null!=a&&(s=t.Manager.pool.createDisplayObjectContainer(),s.name=r,a.addChildAt(s,i),s.touchChildren=o,s.touchEnabled=n,l[i]=s)},e.prototype.createLayer=function(e,i,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=!1);var s=t.Manager.pool.createDisplayObjectContainer();return s.touchEnabled=n,s.touchChildren=o,e.addChildAt(s,i),r&&this._moveLayers.push(s),s},e.prototype.moveLayers=function(t,e){for(var i=this,n=i._moveLayers.length,o=0;n>o;o++)i._moveLayers[o].x=t,i._moveLayers[o].y=e},e.prototype.addSubView=function(t,e,i,n){var o;1==t?o=this._elementLayers[e]:2==t&&(o=this._uiLayers[e]),n?o.addChildAt(i,n):o.addChild(i)},e.prototype.addElement=function(t,e,i){this.addSubView(1,t,e,i)},e.prototype.addUI=function(t,e,i){this.addSubView(2,t,e,i)},e.prototype.addSub3View=function(e,i,n,o){var r,s,a;null==this._elementSub3Layers[e]&&(this._elementSub3Layers[e]=[]),1==e&&(r=this._elementLayers[i],a=this._elementSub3Layers[e][i],null==a&&(a={},this._elementSub3Layers[e][i]=a),s=a[n],null==s&&(s=t.Manager.pool.createDisplayObjectContainer(),a[n]=s,r.addChild(s)),s.addChild(o))},e.prototype.getElement=function(t){return this.getSubLayer(1,t)},e.prototype.getUI=function(t){return this.getSubLayer(2,t)},e.prototype.addChildUI=function(t,e){var i=this._uiLayers[t];(null==i.parent||e)&&this.uiLayer.addChildAt(i,t)},e.prototype.removeChildUI=function(t){var e=this._uiLayers[t];null!=e.parent&&this.uiLayer.removeChild(e)},e.prototype.getSubLayer=function(t,e){var i;return 1==t?i=this._elementLayers[e]:2==t&&(i=this._uiLayers[e]),i},e.prototype.showTopLayer=function(t){0==t?this._root.addChildAt(this.mapLayer,0):1==t?this._root.addChildAt(this.elementLayer,1):2==t&&this._root.addChildAt(this.elementLayer,2)},e}();t.LayerManager=e,__reflect(e.prototype,"devil.LayerManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._loadersCanGC={},this._loadersCannotGC={},this._loadersFail={},this.needVersion=!0,this.resourceUrl="",this._queues=[],this._needSort=!1,this._loadingThread=0,this._maxThread=4,egret.ImageLoader.crossOrigin="anonymous",t.Manager.render.add(this.render,this,100)}return e.prototype.setup=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0),this.resourceUrl=t,this.needVersion=e},e.prototype.rootToURL=function(t){return t.indexOf(this.resourceUrl)>-1?t:this.resourceUrl+t},e.prototype.load=function(e,i,n,o,r,s,a){if(this._loadersFail[e.key])return null;null==o&&(o=t.ResourceGCType.NOW),null==r&&(r=t.ResPriorityType.LOAD_LEVEL1);var l=this._loadersCannotGC[e.key];return null==l&&(l=this._loadersCanGC[e.key]),null==l&&(l=this.getLoader(e,r,o),l.add(this.complete,this,this.error2,this),o!=t.ResourceGCType.NEVER?this._loadersCanGC[e.key]=l:this._loadersCannotGC[e.key]=l,this._queues.push(l),this._needSort=!0),l.getState()==t.LoaderState.SUCESS?(l.addCount(),null!=i&&i.call(n,l)):l.getState()==t.LoaderState.FAIL||null!=i&&l.add(i,n,s,a),l},e.prototype.has=function(t){return!!this._loadersCanGC[t.key]||!!this._loadersCannotGC[t.key]},e.prototype.getLoader=function(e,i,n){var o;switch(e.loaderType){case t.LoaderType.TEXT:o=t.TextLoader;break;case t.LoaderType.TEXTURE:o=t.TextureLoader;break;case t.LoaderType.BIN:o=t.ByteLoader;break;case t.LoaderType.IMAGE:o=t.ImageLoader;break;case t.LoaderType.MAP_DATA:o=t.MapLoader;break;case t.LoaderType.ANI:o=t.AnimationLoader;break;case t.LoaderType.DRAGON:o=t.DragonLoader;break;case t.LoaderType.MOVIE_CLIP:o=t.MovieClipLoader}return null!=o?t.BaseLoader.create(o,e,i,n):null},e.prototype.complete=function(t){t.removeCount(),this._loadingThread--,this._loadingThread<0&&(this._loadingThread=0)},e.prototype.render=function(e){var i=this;i._queues.length>0&&i.next();for(var n in i._loadersCanGC){var o=i._loadersCanGC[n];o.getState()!=t.LoaderState.SUCESS&&o.getState()!=t.LoaderState.FAIL||!o.gc()||delete i._loadersCanGC[n]}},e.prototype.next=function(){for(this._needSort&&(this._needSort=!1,this._queues.sort(this.sortQueues));this._loadingThread<this._maxThread&&this._queues.length>0;){var t=this._queues.shift();t.load(),this._loadingThread++}},e.prototype.error2=function(t){this._loadingThread--,this._loadingThread<0&&(this._loadingThread=0)},e.prototype.sortQueues=function(t,e){return t.getPriority()>e.getPriority()?-1:t.getPriority()<e.getPriority()?1:t.getUseTimer()>e.getUseTimer()?-1:t.getUseTimer()<e.getUseTimer()?1:0},e.prototype.remove=function(e,i,n,o,r){var s=this._loadersCanGC[e.key];null==s&&(s=this._loadersCannotGC[e.key]),null!=s&&(s.getState()==t.LoaderState.SUCESS?s.removeCount():s.getState()==t.LoaderState.FAIL||s.remove(i,n,o,r))},e.prototype.loadBatch=function(e,i,n,o,r,s,a,l,h){t.BatchLoader.create(e,i,n,o,r,s,a,l,h)},e.prototype.addFail=function(t){this._loadersFail[t]=!0},e}();t.LoaderManager=e,__reflect(e.prototype,"devil.LoaderManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.logType=7}return e.prototype.trace=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];i.length;e==t.LogType.WARNING&&(this.logType&t.LogType.WARNING)==t.LogType.WARNING?egret.warn.apply(egret,["【警告：】"].concat(i)):e==t.LogType.DEBUG&&(this.logType&t.LogType.DEBUG)==t.LogType.DEBUG&&egret.log.apply(egret,["【信息：】"].concat(i)),e==t.LogType.ERROR&&(this.logType&t.LogType.ERROR)==t.LogType.ERROR&&egret.log.apply(egret,["【错误：】"].concat(i))},e}();t.LogManager=e,__reflect(e.prototype,"devil.LogManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.setup=function(e){this.stage=new t.StageManager(e.stage),this.pool=new t.ObjectPoolManager,this.render=new t.RenderManager,this.loader=new t.LoaderManager,this.layer=new t.LayerManager(e),this.log=new t.LogManager,this.component=new t.ComponentManager,this.lang=new t.LangManager,this.uiRead=new t.UIReadManager,this.camera=new t.CameraManager,this.socket=new t.SocketManager,this.view=new t.ViewManager,this.sound=new t.SoundManager,this.tip=new t.TipManager,this.event=new t.EventManager,this.plat=new t.PlatManager,this.keyboard=new t.KeyboardManager,this.storage=new t.StorageManager,this.wx=new t.WXManager,this.ad=new t.WXADManger},e}();t.Manager=e,__reflect(e.prototype,"devil.Manager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._objects={},this.MAX_NUM=99999}return e.prototype.create=function(t){var e=egret.getQualifiedClassName(t),i=this._objects[e];null==i&&(i=[],this._objects[e]=i);var n;return i.length>0?(n=i.shift(),n.reuse()):n=new t,n},e.prototype.createSprite=function(){var t=egret.getQualifiedClassName(egret.Sprite),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return e.length>0?i=e.shift():(i=new egret.Sprite,i.touchChildren=!1,i.touchEnabled=!1),i},e.prototype.pushSprite=function(e){if(null!=e){e.parent&&e.parent.removeChild(e);var i=egret.getQualifiedClassName(egret.Sprite);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?(e.removeChildren(),e.graphics.clear(),e.touchChildren=!1,this.pushDisplayObject(e),-1==n.indexOf(e)&&n.push(e)):e=null}},e.prototype.createShape=function(){var t=egret.getQualifiedClassName(egret.Shape),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return e.length>0?i=e.shift():(i=new egret.Shape,i.touchEnabled=!1),i},e.prototype.pushShape=function(e){if(null!=e){e.parent&&e.parent.removeChild(e);var i=egret.getQualifiedClassName(egret.Shape);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?(e.graphics.clear(),this.pushDisplayObject(e),-1==n.indexOf(e)&&n.push(e)):e=null}},e.prototype.createDisplayObjectContainer=function(){var t=egret.getQualifiedClassName(egret.DisplayObjectContainer),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return e.length>0?i=e.shift():(i=new egret.DisplayObjectContainer,i.touchChildren=!1,i.touchEnabled=!1),i},e.prototype.pushDisplayObjectContainer=function(e){if(null!=e){e.parent&&e.parent.removeChild(e);var i=egret.getQualifiedClassName(egret.DisplayObjectContainer);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?(e.numChildren>0&&e.removeChildren(),e instanceof egret.Sprite&&e.graphics.clear(),e.touchChildren=!1,this.pushDisplayObject(e),-1==n.indexOf(e)&&n.push(e)):e=null
}},e.prototype.pushDisplayObject=function(t){t.cacheAsBitmap=!1,t.touchEnabled=!1,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.visible=!0,t.alpha=1,t.mask=null,t.blendMode=egret.BlendMode.NORMAL,t.anchorOffsetX=0,t.anchorOffsetY=0,t.filters=null,t.scrollRect=null,t.width=0/0,t.height=0/0},e.prototype.push=function(t){if(null!=t){var e=egret.getQualifiedClassName(t),i=this._objects[e];null!=i&&i.length<this.MAX_NUM?(t.unuse(),-1==i.indexOf(t)&&i.push(t)):(t.dispose(),t=null)}},e.prototype.testCount=function(){for(var e in this._objects)this._objects[e].length>0&&t.Manager.log.trace(t.LogType.DEBUG,e,this._objects[e].length)},e.prototype.createBitmap=function(){var t=egret.getQualifiedClassName(egret.Bitmap),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return e.length>0?i=e.shift():(i=new egret.Bitmap,i.touchEnabled=!1),i},e.prototype.pushBitmap=function(e){if(null!=e){e.parent&&e.parent.removeChild(e),e.texture=null;var i=egret.getQualifiedClassName(egret.Bitmap);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?(e.scale9Grid=null,e.smoothing=!0,e.fillMode=egret.BitmapFillMode.SCALE,e.pixelHitTest=!1,this.pushDisplayObject(e),-1==n.indexOf(e)&&n.push(e)):e=null}},e.prototype.createTextField=function(){var t=egret.getQualifiedClassName(egret.TextField),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return e.length>0?i=e.shift():(i=new egret.TextField,i.touchEnabled=!1),i},e.prototype.pushTextField=function(e){if(null!=e){null!=e.parent&&e.parent.removeChild(e);var i=egret.getQualifiedClassName(egret.TextField);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?(e.text="",this.pushDisplayObject(e),e.$TextField={0:egret.TextField.default_size,1:0,2:egret.TextField.default_textColor,3:0/0,4:0/0,5:0,6:0,7:0,8:egret.TextField.default_fontFamily,9:"left",10:"top",11:"#ffffff",12:"",13:"",14:[],15:!1,16:!1,17:!0,18:!1,19:!1,20:!1,21:0,22:0,23:0,24:egret.TextFieldType.DYNAMIC,25:0,26:"#000000",27:0,28:-1,29:0,30:!1,31:!1,32:0,33:!1,34:16777215,35:null,36:null,37:egret.TextFieldInputType.TEXT,38:!1},-1==n.indexOf(e)&&n.push(e)):e=null}},e.prototype.createTexture=function(){var t=egret.getQualifiedClassName(egret.Texture),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return i=e.length>0?e.shift():new egret.Texture},e.prototype.pushTexture=function(e){if(null!=e){e.dispose(),e.scale9Grid=null,e.disposeBitmapData=!0;var i=egret.getQualifiedClassName(egret.Texture);egret.getQualifiedClassName(e)!=i&&t.Manager.log.trace(t.LogType.ERROR,"回收对象与实际方法不符",egret.getQualifiedClassName(e));var n=this._objects[i];null!=n&&n.length<this.MAX_NUM?-1==n.indexOf(e)&&n.push(e):e=null}},e.prototype.createHttpRequest=function(){var t=egret.getQualifiedClassName(egret.HttpRequest),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return i=e.length>0?e.shift():new egret.HttpRequest},e.prototype.pushHttpRequest=function(t){if(null!=t){var e=egret.getQualifiedClassName(egret.HttpRequest),i=this._objects[e];null!=i&&i.length<this.MAX_NUM?-1==i.indexOf(t)&&i.push(t):t=null}},e.prototype.createImageLoader=function(){var t=egret.getQualifiedClassName(egret.ImageLoader),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return i=e.length>0?e.shift():new egret.ImageLoader},e.prototype.pushImageLoader=function(t){if(null!=t){var e=egret.getQualifiedClassName(egret.ImageLoader),i=this._objects[e];null!=i&&i.length<this.MAX_NUM?-1==i.indexOf(t)&&i.push(t):t=null}},e.prototype.createByteArray=function(){var t=egret.getQualifiedClassName(egret.ByteArray),e=this._objects[t];null==e&&(e=[],this._objects[t]=e);var i;return i=e.length>0?e.shift():new egret.ByteArray},e.prototype.pushByteArray=function(t){if(null!=t){var e=egret.getQualifiedClassName(egret.ByteArray),i=this._objects[e];t.endian=egret.Endian.BIG_ENDIAN,t.clear(),null!=i&&i.length<this.MAX_NUM?-1==i.indexOf(t)&&i.push(t):t=null}},e}();t.ObjectPoolManager=e,__reflect(e.prototype,"devil.ObjectPoolManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.prototype.isWX=function(){return egret.Capabilities.runtimeType===egret.RuntimeType.WXGAME},t.prototype.isQQ=function(){return egret.Capabilities.runtimeType===egret.RuntimeType.QQGAME},t.prototype.isMobile=function(){return egret.Capabilities.isMobile},t.prototype.isPC=function(){return!egret.Capabilities.isMobile},t}();t.PlatManager=e,__reflect(e.prototype,"devil.PlatManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){this._callBacks=[],this._interval=0,this._lastTime=0,this._shape=new egret.DisplayObject,this._shape.addEventListener(egret.Event.ENTER_FRAME,this.___enterFrame,this)}return t.prototype.getInterval=function(){return this._interval},t.prototype.contains=function(t,e){for(var i=this._callBacks.length,n=0;i>n;n++)if(this._callBacks[n].render.equals(t,e)&&this._callBacks[n].alive)return n;return-1},t.prototype.add=function(t,e,n,o,r,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=null),void 0===s&&(s=!1);for(var a=[],l=6;l<arguments.length;l++)a[l-6]=arguments[l];var h=this.contains(t,e);-1==h?(this._callBacks.unshift(i.create(t,e,n,o,r,a)),this._addRenderCount++):s&&(this._callBacks[h].pool(),this._callBacks[h]=i.create(t,e,n,o,r,a))},t.prototype.remove=function(t,e){var i=this.contains(t,e);i>=0&&(this._callBacks[i].alive=!1)},t.prototype.render=function(t,e){null==t.args||0==t.args.length?t.render.runCallBack(e):1==t.args.length?t.render.runCallBack(e,t.args[0]):2==t.args.length?t.render.runCallBack(e,t.args[0],t.args[1]):3==t.args.length?t.render.runCallBack(e,t.args[0],t.args[1],t.args[2]):4==t.args.length?t.render.runCallBack(e,t.args[0],t.args[1],t.args[2],t.args[3]):5==t.args.length&&t.render.runCallBack(e,t.args[0],t.args[1],t.args[2],t.args[3],t.args[4])},t.prototype.removeAll=function(t){for(var e=this._callBacks.length,i=0;e>i;i++)this._callBacks[i].render.target==t&&this._callBacks[i].alive&&this.remove(this._callBacks[i].render.callBack,this._callBacks[i].render.target)},t.prototype.___enterFrame=function(t){var e=this,i=egret.getTimer();e._interval=i-e._lastTime,e._lastTime=i;for(var n,o,r=e._callBacks.length-1,s=r;s>=0;s--)n=!1,o=e._callBacks[s],o.alive?(o.delay>0?(o.interval+=e._interval,o.interval>=o.delay&&(n=!0)):n=!0,n&&(this._addRenderCount=0,n=!1,o.delay>0?(null!=o.render&&this.render(o,o.interval),o.interval=0):null!=o.render&&this.render(o,e._interval),o.repeat>0&&(o.repeat--,o.repeat<=0&&(null!=o.end&&o.end.runCallBack(),o.alive=!1)),s+=this._addRenderCount)):(o.pool(),e._callBacks.splice(s,1))},t}();t.RenderManager=e,__reflect(e.prototype,"devil.RenderManager");var i=function(){function e(){this.alive=!0,this.interval=0}return e.prototype.reuse=function(){this.alive=!0,this.interval=0},e.prototype.unuse=function(){null!=this.render&&(this.render.pool(),this.render=null),null!=this.end&&(this.end.pool(),this.end=null),this.alive=!1,this.delay=0,this.repeat=0,this.args.length=0,this.args=null},e.prototype.dispose=function(){null!=this.render&&(this.render.pool(),this.render=null),null!=this.end&&(this.end.pool(),this.end=null),this.args.length=0,this.args=null},e.prototype.pool=function(){t.Manager.pool.push(this)},e.create=function(i,n,o,r,s,a){var l=t.Manager.pool.create(e);return null!=i&&(l.render=t.CallBackInfo.create(i,n)),null!=s&&(l.end=t.CallBackInfo.create(s,n)),l.delay=o,l.repeat=r,l.args=a,l},e}();t.RenderTimerInfo=i,__reflect(i.prototype,"devil.RenderTimerInfo",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._isReconnecting=!1,this._reConnectCount=0,this.verify=0,this.needReconnect=!0,this.handContent="game_client------------",this._readBuffer=t.Manager.pool.create(t.TCPPacketIn),this._writeOffset=0,this._readOffset=0,this._totalLen=0,this._cmds={},this.isSocketReConnect=!1}return Object.defineProperty(e.prototype,"isWss",{set:function(t){this._isWss=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return null!=this._socket&&this._isConnected},enumerable:!0,configurable:!0}),e.prototype.receive=function(e){var i=this._cmds[e.protocol];null!=i?i.receive(e):t.Manager.log.trace(t.LogType.WARNING,"服务器与客户端协议对不上 ",e.protocol)},e.prototype.initRemoteSocket=function(){t.Manager.log.trace(t.LogType.DEBUG,"start connecting socket ..."),null==this._socket&&this.$connect()},e.prototype.clear=function(){},e.prototype.closeSocket=function(){this._socket&&(this._socket=null,this._isReconnecting=!1)},e.prototype.addCMD=function(t,e){void 0==this._cmds[t]&&(this._cmds[t]=new e)},e.prototype.removeCMD=function(t){delete this._cmds[t]},e.prototype.getCMD=function(t){return this._cmds[t]},e.prototype.addVerify=function(){this.verify++,this.verify>=128&&(this.verify=0)},e.prototype.connect=function(t,e){this._ip=t,this._port=e,this.initRemoteSocket()},e.prototype.reconnect=function(){return this._reConnectCount+=1,t.Manager.log.trace(t.LogType.DEBUG,"restart connecting socket ...",this._reConnectCount),this.initRemoteSocket(),!1},e.prototype.send=function(e){e instanceof t.TCPPacketOut?this.$sendPkg(e):this.$sendPkg(t.TCPPacketOut.create(e))},e.prototype.$sendPkg=function(e){if(0!=e.length)if(this.isConnected){e.writePacketLenAndVerify(),e.position=0;try{this._socket.send(e.buffer)}catch(i){}e.pool()}else t.Manager.render.add(this.___renderReconnect,this,100,1,null,!0,!0)},e.prototype.checkOnopen=function(){1==this._socket.readyState?this.onopenHandler():(this._checkStateCount=0,t.Manager.render.add(this.onopenHandler,this,100,0,null,!0))},e.prototype.onopenHandler=function(){if(this._checkStateCount++,this._checkStateCount>10||1==this._socket.readyState){if(t.Manager.render.remove(this.onopenHandler,this),this.verify=0,1!=this._socket.readyState)return void alert("登录失败，请刷新重新登录。");this.sendServerNeedCMD(),null!=this._connnectFun&&this._connnectFun.runCallBack()}},e.prototype.sendServerNeedCMD=function(){if(1!=this._socket.readyState)return void alert("登录失败，请刷新重新登录。");if(!t.StringUtil.isEmpty(this.handContent)){var e=t.Manager.pool.create(t.ByteArrayExtend);e.writeUTFBytes(this.handContent),e.position=0;try{this._socket.send(e.buffer)}catch(i){}e.pool()}},e.prototype.$connect=function(){function e(){t.Manager.log.trace(t.LogType.DEBUG,"socket connnect successful ..."),r._isConnected=!0,r._isReconnecting=!1,r._reConnectCount>0&&(r.isSocketReConnect=!0,r._reConnectCount=0),r.checkOnopen()}function i(e){t.Manager.log.trace(t.LogType.ERROR,"socket close ..."),r.startReconnect(),null!=r._closeFun&&r._closeFun.runCallBack()}function n(e){t.Manager.log.trace(t.LogType.ERROR,"socket error ..."),r.startReconnect(),null!=r._errorFun&&r._errorFun.runCallBack()}function o(e){var i=t.Manager.pool.create(t.TCPPacketIn);if(r.isWindowSocket()?i.setArrayBuffer(e.data):i.setArrayBuffer(e),i.bytesAvailable>0){var n=i.bytesAvailable;i.readBytes(r._readBuffer,r._writeOffset,i.bytesAvailable),r._writeOffset+=n,r._writeOffset>0&&(r._readBuffer.position=0,r.readPackage())}i.pool()}var r=this;try{var s=(this._isWss?"wss://":"ws://")+r._ip+":"+r._port;r.isWindowSocket()?(console.log("SocketManager.$connect",egret.Capabilities.runtimeType==egret.RuntimeType.QQGAME),r._socket=new window.WebSocket(s),r._socket.binaryType="arraybuffer",r._socket.onopen=e,r._socket.onclose=i,r._socket.onerror=n,r._socket.onmessage=o):(r._socket=new __global.egret_native.WebSocket(s),r._socket.onOpen=e,r._socket.onClose=i,r._socket.onError=n,r._socket.onMessage=o)}catch(a){}},e.prototype.startReconnect=function(){this.closeSocket(),this._isConnected=!1,this.clear(),t.Manager.render.add(this.___renderReconnect,this,100,1,null,!0)},e.prototype.isWindowSocket=function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB||egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME||egret.Capabilities.runtimeType==egret.RuntimeType.QQGAME},e.prototype.readPackage=function(){for(var e=this._writeOffset-this._readOffset;e>2&&0==this._totalLen||e>=this._totalLen&&this._totalLen>0;){var i=void 0;0==this._totalLen&&(this._totalLen=this._readBuffer.readUnsignedShort()+2,this._readOffset+=2,e-=2),e>=this._totalLen&&(i=t.Manager.pool.create(t.TCPPacketIn),this._readBuffer.readBytes(i,0,this._totalLen),this._readOffset+=this._totalLen,i.protocol=i.readShort(),this.receive(i),i.pool(),this._totalLen=0),e=this._writeOffset-this._readOffset}this._readBuffer.position=0,e>0&&this._readBuffer.writeBytes(this._readBuffer,this._readOffset,e),this._readOffset=0,this._writeOffset=e},e.prototype.__connnect=function(e,i){this._connnectFun=t.CallBackInfo.create(e,i)},e.prototype.__close=function(e,i){this._closeFun=t.CallBackInfo.create(e,i)},e.prototype.__error=function(e,i){this._errorFun=t.CallBackInfo.create(e,i)},e.prototype.___renderReconnect=function(t,e){void 0===e&&(e=!1);var i=this;i.isConnected||i.needReconnect&&(i._isReconnecting||(i._isReconnecting=!0,e&&(i._reConnectCount=0),i.reconnect()))},e}();t.SocketManager=e,__reflect(e.prototype,"devil.SocketManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.reuse=function(){},e.prototype.unuse=function(){this.offX=0,this.offY=0,t.Manager.pool.pushTexture(this.texture),this.texture=null},e.prototype.dispose=function(){this.unuse()},e.create=function(i,n,o){var r=t.Manager.pool.create(e);return r.offX=i,r.offY=n,r.texture=o,r},e}();t.AnimationFrameData=e,__reflect(e.prototype,"devil.AnimationFrameData",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(t){this.stage=t,this._frameTime=1e3/this.stage.frameRate,this._callBacks=[],this.stage.addEventListener(egret.Event.RESIZE,this.___resize,this)}return Object.defineProperty(e.prototype,"width",{get:function(){return this.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.stage.stageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this.stage.frameRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameTime",{get:function(){return this._frameTime},enumerable:!0,configurable:!0}),e.prototype.add=function(e,i){-1==t.CallBackInfo.contains(this._callBacks,e,i)&&this._callBacks.push(t.CallBackInfo.create(e,i))},e.prototype.remove=function(e,i){var n=t.CallBackInfo.contains(this._callBacks,e,i);n>=0&&this._callBacks.splice(n,1)},e.prototype.___resize=function(t){for(var e=this._callBacks.length,i=e-1;i>=0;i--)this._callBacks[i].runCallBack(this.width,this.height)},e}();t.StageManager=e,__reflect(e.prototype,"devil.StageManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.prototype.getItem=function(t){return egret.localStorage.getItem(t)},t.prototype.clear=function(){egret.localStorage.clear()},t.prototype.setItem=function(t,e){egret.localStorage.setItem(t,e)},t.prototype.removeItem=function(t){egret.localStorage.removeItem(t)},t.prototype.setBoolean=function(t,e){egret.localStorage.setItem(t,e?"1":"0")},t.prototype.getBoolean=function(t){return"1"==egret.localStorage.getItem(t)},t.prototype.setInt=function(t,e){egret.localStorage.setItem(t,e.toString())},t.prototype.getInt=function(t){return Number(egret.localStorage.getItem(t))},t}();t.StorageManager=e,__reflect(e.prototype,"devil.StorageManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.show=function(e,i){if(void 0===i&&(i=!0),this._currentTip){if(this._currentTip instanceof e)return this._currentTip;null!=this._currentTip&&this._currentTip.dispose()}return this._currentTip=new e,this._currentTip.show(),i&&(null==this._modal&&(this._modal=t.Manager.component.createImage(t.LibConst.MODE_TEXTURE_NAME,0,0,t.Manager.stage.width,t.Manager.stage.height),this._modal.alpha=.8,this._modal.layers[0].addEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this),this._modal.touchEnabled=!0),null==this._modal.layers[0].parent&&t.Manager.layer.addUI(t.LayerSubIndex.UI_TIP_MODE,this._modal.layers[0]),t.Manager.stage.add(this.___resize,this),this.___resize(t.Manager.stage.width,t.Manager.stage.height)),this._currentTip},e.prototype.hide=function(e){void 0===e&&(e=null),(!e||this._currentTip instanceof e)&&(null!=this._currentTip&&this._currentTip.dispose(),this._currentTip=null,t.Manager.render.remove(this.___resize,this),this._modal&&null!=this._modal.layers[0].parent&&this._modal.removeFromParent())},e.prototype.isOpenning=function(t){return this._currentTip instanceof t},e.prototype.setModalAlpha=function(t){void 0===t&&(t=.8),this._modal&&(this._modal.alpha=t)},e.prototype.___touchTap=function(t){this.hide()},e.prototype.___resize=function(t,e){this._modal.width=t,this._modal.height=e},e}();t.TipManager=e,__reflect(e.prototype,"devil.TipManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.createComponent=function(e){var i;switch(e){case t.ComponentType.CONTAINER:i=t.Container;break;case t.ComponentType.IMAGE:i=t.Image;break;case t.ComponentType.TEXT:i=t.Text;break;case t.ComponentType.BUTTON_IMAGE:i=t.ButtonImage;break;case t.ComponentType.BUTTON_TXT:i=t.ButtonText;break;case t.ComponentType.BUTTON_IMAGE_SELECTED:i=t.ButtonImageSelected;break;case t.ComponentType.BUTTON_ICON:i=t.ButtonIcon;break;case t.ComponentType.BUTTON_ICON_SELECTED:i=t.ButtonIconSelected;break;case t.ComponentType.BUTTON_TEXT_SELECTED:break;case t.ComponentType.BUTTON_SELECTED:break;case t.ComponentType.MENU_BAR:break;case t.ComponentType.MENU_ITEM:break;case t.ComponentType.TEXT_INPUT:i=t.TextInput;break;case t.ComponentType.CHECK_BOX:i=t.CheckBox;break;case t.ComponentType.RADIO_BUTTON:i=t.RadioButton;break;case t.ComponentType.MENU_SUB_ITEM:break;case t.ComponentType.IMAGE_REMOTE:i=t.ImageRemote;break;case t.ComponentType.LIST:break;case t.ComponentType.COMBOBOX:break;case t.ComponentType.PANEL:break;case t.ComponentType.TEXT_AREA:break;case t.ComponentType.TAB:}return t.View.create(i)},e.prototype.read=function(t,e,i,n,o){var r=e.readShort(),s=this.createComponent(r);return this.parse(s,e,i,n,o),null!=n&&n.call(o,s.name,s),t&&t.addChild2(s),s},e.prototype.parse=function(e,i,n,o,r){switch(void 0===o&&(o=null),this.readCommon(e,i,n),e.type){case t.ComponentType.BUTTON_IMAGE:this.readButtonImage(e,i,n);break;case t.ComponentType.CONTAINER:var s=0;1==(1&e.layerID)&&s++,2==(2&e.layerID)&&s++,4==(4&e.layerID)&&s++,e.autoCreateLayer(s),this.readContainer(e,i,n,o,r);break;case t.ComponentType.IMAGE:this.readImage(e,i,n);break;case t.ComponentType.TEXT:this.readText(e,i,n);break;case t.ComponentType.BUTTON_TXT:this.readButtonText(e,i,n);break;case t.ComponentType.BUTTON_IMAGE_SELECTED:this.readButtonImageSelected(e,i,n);break;case t.ComponentType.BUTTON_ICON:this.readButtonIcon(e,i,n);break;case t.ComponentType.BUTTON_ICON_SELECTED:this.readButtonIconSelected(e,i,n);break;case t.ComponentType.BUTTON_TEXT_SELECTED:break;case t.ComponentType.BUTTON_SELECTED:break;case t.ComponentType.MENU_BAR:break;case t.ComponentType.MENU_ITEM:break;case t.ComponentType.TEXT_INPUT:this.readTextInput(e,i,n);break;case t.ComponentType.CHECK_BOX:this.readCheckBox(e,i,n);break;case t.ComponentType.RADIO_BUTTON:this.readRadioButton(e,i,n);break;case t.ComponentType.MENU_SUB_ITEM:break;case t.ComponentType.IMAGE_REMOTE:this.readImageRemote(e,i,n);break;case t.ComponentType.LIST:break;case t.ComponentType.COMBOBOX:break;case t.ComponentType.PANEL:break;case t.ComponentType.TEXT_AREA:}},e.prototype.readButtonImage=function(t,e,i){this.readStyles(t,e,i)},e.prototype.readContainer=function(t,e,i,n,o){for(var r,s=e.readByte(),a=0;s>a;a++)r=this.read(t,e,i,n,o),t.setProperty(r.name,r);t.readDataComplete()},e.prototype.readImage=function(t,e,i){},e.prototype.readText=function(t,e,i){t.color=e.readInt(),t.bold=e.readBoolean(),t.size=e.readByte(),t.align=e.readUTF()},e.prototype.readButtonText=function(t,e,i){this.readStyles(t,e,i),t.label.color=e.readInt(),t.label.bold=e.readBoolean(),t.label.size=e.readByte(),t.label.align=e.readUTF(),t.setLabelOffset(e.readShort(),e.readShort())},e.prototype.readButtonImageSelected=function(t,e,i){this.readButtonImage(t,e,i)},e.prototype.readButtonIcon=function(t,e,i){this.readStyles(t,e,i),t.setIconOffset(e.readShort(),e.readShort())},e.prototype.readButtonIconSelected=function(t,e,i){this.readButtonIcon(t,e,i)},e.prototype.readImageRemote=function(t,e,i){},e.prototype.readTextInput=function(t,e,i){this.readStyles(t,e,i),t.color=e.readInt(),t.bold=e.readBoolean(),t.size=e.readByte(),t.align=e.readUTF()},e.prototype.readCheckBox=function(t,e,i){this.readButtonText(t,e,i)},e.prototype.readRadioButton=function(t,e,i){this.readButtonText(t,e,i)},e.prototype.readStyles=function(t,e,i){for(var n=e.readByte(),o=0;n>o;o++)t.setStyle(e.readUTF(),e.readUTF())},e.prototype.readCommon=function(t,e,i){t.name=e.readUTF(),t.move(e.readShort(),e.readShort()),t.width=e.readShort(),t.height=e.readShort(),t.alpha=.1*e.readUnsignedByte(),t.anchorX=.1*e.readUnsignedByte(),t.anchorY=.1*e.readUnsignedByte(),t.rotation=e.readShort(),t.scaleX=.1*e.readByte(),t.scaleY=.1*e.readByte(),t.layerID=e.readByte()},e.prototype.readUIData=function(e,i){var n=t.Manager.pool.create(t.ByteArrayExtend);n.setArrayBuffer(e),n.position=0;for(var o=n.readShort(),r=0;o>r;r++)this.readTxtData(n,i);n.bytesAvailable&&t.Model.resConfig.parseConfig(n,null),n.pool()},e.prototype.readTxtData=function(e,i){var n=e.readUTF(),o=e.readUTF(),r=e.readShort(),s=new t.ByteArrayExtend;e.readBytes(s,0,r),i.addCanvas(s,o,n)},e}();t.UIReadManager=e,__reflect(e.prototype,"devil.UIReadManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._openningViews={},this._modalViews={},this._singleViews={},this._multeViews={},this._thirdViews={},this._openningModalViews=new t.Dictionary,this._textures={},this._relativeViews={},this._modal=t.Manager.component.createImage(t.LibConst.MODE_TEXTURE_NAME,0,0,t.Manager.stage.width,t.Manager.stage.height),this._modal.alpha=.8,this._modal.layers[0].addEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this),this._modal.touchEnabled=!0,t.Manager.stage.add(this.___resize,this)}return e.prototype.registerSingleView=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=!1),this._modalViews[t]=n,this._singleViews[t]=e,this._textures[t]=i},e.prototype.registerMulteView=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=null),this._modalViews[t]=i,this._multeViews[t]=e,this._textures[t]=n},e.prototype.registerThirdView=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=null),this._modalViews[t]=i,this._thirdViews[t]=e,this._textures[t]=n},e.prototype.registerRelativeView=function(t,e,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var r=this._relativeViews[t];if(r||(r=[],this._relativeViews[t]=r),r.push(e),r.push(i),n)for(var s=0,a=n;s<a.length;s++){var l=a[s];r.push(l)}},e.prototype.getView=function(t){return this._openningViews[t]},e.prototype.isOpenning=function(t){return!!this._openningViews[t]},e.prototype.isOpeningSingleView=function(){for(var t=Object.keys(this._openningViews),e=t.length,i=0;e>i;i++)if(this._singleViews[t[i]])return!0;return!1},e.prototype["switch"]=function(t,e){return void 0===e&&(e=!1),this.isOpenning(t)?(this.hide(t),null):this.show(t,e)},e.prototype.show=function(e,i){function n(i){t.ViewLoading.getInstance().hide(),t.Manager.loader.remove(i.getPath(),n,this),r._openningViews[e]==o&&r.showView(e,o)}void 0===i&&(i=!1);var o,r=this;if(o=this._openningViews[e],null!=o)return o;if(i&&null!=this._textures[e]){var s=t.PathInfo.getPath(this._textures[e],t.LoaderType.TEXTURE);return t.Manager.loader.has(s)?this.open(e):(t.ViewLoading.getInstance().show(),o=this.createView(e),t.Manager.loader.load(s,n,this,t.ResourceGCType.COMMON,t.ResPriorityType.LOAD_LEVEL5),o)}return this.open(e)},e.prototype.hide=function(e,i){void 0===i&&(i=!1);var n=this._openningViews[e];if(null!=n&&n.hide(i)&&(this._openningViews[e]=null,this._openningModalViews.containsKey(e)&&(this._openningModalViews.remove(e),this._modal))){var o=this._openningModalViews.keys().length>0;o?t.Manager.layer.addUI(t.LayerSubIndex.UI_ALERT_MODE,this._modal.layers[0]):this._modal.removeFromParent()}},e.prototype.checkHide=function(t,e,i){void 0===i&&(i=!1);var n=this._relativeViews[t];if(n)for(var o=0,r=n;o<r.length;o++){var s=r[o];if(s!=e&&this.isOpenning(s))return}this.hide(t,i)},e.prototype.setModalAlpha=function(t){void 0===t&&(t=.8),this._modal.alpha=t},e.prototype.hideAll=function(){for(var t=Object.keys(this._openningViews),e=t.length,i=0;e>i;i++)this.hide(t[i])},e.prototype.createView=function(t){var e,i=this._singleViews[t];if(i)for(var n in this._openningViews)this._singleViews[n]&&this.hide(n);else i=this._multeViews[t];return i||(i=this._thirdViews[t]),i&&(e=new i,this._openningViews[t]=e),e},e.prototype.showView=function(e,i){var n=this._modalViews[e];n&&(null!=this._multeViews[e]||null!=this._singleViews[e]?t.Manager.layer.addUI(t.LayerSubIndex.UI_ALERT_MODE,this._modal.layers[0]):null!=this._thirdViews[e]&&t.Manager.layer.addUI(t.LayerSubIndex.UI_ALERT_MODE2,this._modal.layers[0]),this._openningModalViews.add(e,!0)),i.show()},e.prototype.open=function(t){var e=this.createView(t);return this.showView(t,e),e},e.prototype.___touchTap=function(t){for(var e=this._openningModalViews.keys(),i=e.length,n=i-1;n>=0;--n){this.hide(e[n],!0);break}},e.prototype.___resize=function(t,e){this._modal.width=t,this._modal.height=e},e}();t.ViewManager=e,__reflect(e.prototype,"devil.ViewManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.prototype.setup=function(t,e,i){this._banner=!1,this.createBanner(t),this.createJiLi(e),this.createChaPing(i)},t.prototype.createBanner=function(t){var e=wx.getSystemInfoSync().windowWidth,i=wx.getSystemInfoSync().windowHeight,n=Math.min(e,300),o=wx.createBannerAd({adUnitId:t,adIntervals:30,style:{left:0,top:0,width:n}});o.onResize(function(t){o.style.left=e-t.width>>1,o.style.top=i-t.height}),o.onError(function(t){console.log(t)}),this._banner=o},t.prototype.createJiLi=function(t){var e=wx.createRewardedVideoAd({adUnitId:t});e.onError(function(t){console.log(t)}),this._jili=e},t.prototype.createChaPing=function(t){var e;wx.createInterstitialAd&&(e=wx.createInterstitialAd({adUnitId:t}),e.onError(function(t){console.log(t)})),this._chaping=e},t.prototype.openJiLi=function(t,e){var i=this._jili;i.show()["catch"](function(){i.load().then(function(){return i.show()})["catch"](function(i){console.log("激励视频 广告显示失败"),t.apply(e,[!0])})}),i.onClose(function(i){i&&i.isEnded||void 0===i?t.apply(e,[!0]):t.apply(e,[!1])})},t.prototype.openChaPing=function(){var t=this._chaping;t&&t.show()["catch"](function(t){console.error(t)})},t.prototype.switchBanner=function(t){this._bannerShow!=t&&(this._bannerShow=t,null!=this._banner&&(t?this._banner.show():this._banner.hide()))},t}();t.WXADManger=e,__reflect(e.prototype,"devil.WXADManger")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.onShareAppMessage=function(e,i){i=i?i:"resource/assets/share/share.png",wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return{title:t.ArrayUtil.random(e),imageUrl:i,success:function(t){console.log("share succ")}}})},e.prototype.readLocation=function(e){void 0===e&&(e=0);var i=t.Model.wxGame.userInfo.nickName+"_"+t.Model.wxGame.gameName+"_",n=wx.getStorageSync(i+"refreshTime");n=n?n:0;var o=new Date;o.setTime(Number(n));var r=e,s=0;t.DateUtil.disDay(new Date,o)<0&&(r=wx.getStorageSync(i+"receiveCount"),s=wx.getStorageSync(i+"hasReceiveCount")),t.Model.wxGame.receiveFreeCount=r?r:e,t.Model.wxGame.hasReceiveFreeCount=s?s:0,this.writeLocation()},e.prototype.writeLocation=function(){this.writeHasReceiveFreeCount(),this.writeReceiveFreeCount()},e.prototype.writeReceiveFreeCount=function(){var e=t.Model.wxGame.userInfo.nickName+"_"+t.Model.wxGame.gameName+"_";wx.setStorageSync(e+"receiveCount",t.Model.wxGame.receiveFreeCount),wx.setStorageSync(e+"refreshTime",(new Date).getTime())},e.prototype.writeHasReceiveFreeCount=function(){var e=t.Model.wxGame.userInfo.nickName+"_"+t.Model.wxGame.gameName+"_";wx.setStorageSync(e+"hasReceiveCount",t.Model.wxGame.hasReceiveFreeCount),wx.setStorageSync(e+"refreshTime",(new Date).getTime())},e.prototype.navigateToMiniProgram=function(t){wx.navigateToMiniProgram({appId:t,path:"",extraData:{}})},e.prototype.loginRank=function(e,i,n,o,r,s,a){if(null==t.Model.wxGame.userInfo){var l=wx.createUserInfoButton({type:"image",image:e,style:{left:i,top:n,width:o,height:r}});l.onTap(function(e){if("getUserInfo:ok"==e.errMsg){l.destroy();var i=new t.UserInfo;i.parse(e.userInfo),t.Model.wxGame.userInfo=i,s&&s.call(a)}else console.log("授权失败")})}else s&&s.apply(a)},e.prototype.login=function(e,i,n,o,r,s,a,l){var h,c=this,u=wx.createUserInfoButton({type:"image",image:e,style:{left:i/t.Manager.stage.width*wx.getSystemInfoSync().windowWidth,top:n/t.Manager.stage.height*wx.getSystemInfoSync().windowHeight,width:o/t.Manager.stage.width*wx.getSystemInfoSync().windowWidth,height:r/t.Manager.stage.width*wx.getSystemInfoSync().windowWidth}});u.onTap(function(e){"getUserInfo:ok"==e.errMsg?(u.destroy(),null==t.Model.wxGame.userInfo&&c.$login(e,s),a&&a.call(l,[h])):console.log("授权失败")}),wx.login({success:function(e){h=e.code,t.Model.wxGame.code=h,wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]&&wx.getUserInfo({success:function(t){c.$login(t,s)}})}})}})},e.prototype.list=function(e,i,n){function o(r){t.Manager.loader.remove(r.getPath(),o,this);var s=JSON.parse(r.text);t.Model.wxGame.list=s.result;for(var a=0;a<t.Model.wxGame.list.length;a++)if(n==t.Model.wxGame.list[a].appid){t.Model.wxGame.list.splice(a,1);break}t.ArrayUtil.randomSort(t.Model.wxGame.list),t.Model.wxGame.list=t.ArrayUtil.sortOn(t.Model.wxGame.list,["rec_degree"],[1]),e.call(i)}if(t.Model.wxGame.list.length>0)return void e.call(i);var r=t.Manager.loader.load(t.PathInfo.getPath("https://www.devil0629.com/api/game/list",t.LoaderType.TEXT,!0,Math.random().toString()),o,this,t.ResourceGCType.NOW);r.post({platform_id:2})},e.prototype.initCtrl=function(e,i,n){function o(n){t.Manager.loader.remove(n.getPath(),o,this);var r=JSON.parse(n.text);t.Model.wxGame.masterCtrl="1"==r.result.masterCtrl,t.Model.wxGame.gameCtrl=r.result.gameCtrl,e.call(i)}if(t.Model.wxGame.gameCtrl)return void e.call(i);var r=t.Manager.loader.load(t.PathInfo.getPath("https://www.devil0629.com/api/game/init",t.LoaderType.TEXT,!0,Math.random().toString()),o,this,t.ResourceGCType.NOW);r.post({game_id:n})},e.prototype.$login=function(e,i){function n(e){function i(e){t.Manager.loader.remove(e.getPath(),i,this)}t.Manager.loader.remove(e.getPath(),n,this);var r=JSON.parse(e.text);t.Model.wxGame.openID=r.result.id,e=t.Manager.loader.load(t.PathInfo.getPath("https://www.devil0629.com/api/update/member",t.LoaderType.TEXT,!0,Math.random().toString()),i,this,t.ResourceGCType.NOW),e.post({member_id:t.Model.wxGame.openID,userInfo:o})}var o=new t.UserInfo;o.parse(e.userInfo),t.Model.wxGame.userInfo=o;var r=t.Manager.loader.load(t.PathInfo.getPath("https://www.devil0629.com/api/get/member",t.LoaderType.TEXT,!0,Math.random().toString()),n,this,t.ResourceGCType.NOW);r.post({code:t.Model.wxGame.code,anonymousCode:"",app_name:"weixin",game_id:i,platform_id:2,device:"无"})},e.prototype.saveScore=function(e,i,n){t.Manager.render.add(this.___$saveRender,this,5e3,1,null,!0,e,i,n)},e.prototype.___$saveRender=function(e,i,n,o){function r(e){t.Manager.loader.remove(e.getPath(),r,this)}var s=t.Manager.loader.load(t.PathInfo.getPath("https://www.devil0629.com/api/save/score",t.LoaderType.TEXT,!0,Math.random().toString()),r,this,t.ResourceGCType.NOW);
s.post({member_id:i,score:n,game_id:o,app_name:"weixin",platform_id:2})},e}();t.WXManager=e,__reflect(e.prototype,"devil.WXManager")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){this._canvases={},this._versions={}}return Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),t.prototype.getBytes=function(t){return this._canvases[t]},t.prototype.getVersion=function(t){return this._versions[t]},t.prototype.addCanvas=function(t,e,i){this._canvases[e]=t,this._versions[e]=i},t.prototype.clear=function(){for(var t in this._canvases)this._canvases[t]=null;this._canvases={};for(var e in this._versions)this._versions[e]=null;this._versions={}},t}();t.CanvasModel=e,__reflect(e.prototype,"devil.CanvasModel")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._dic={}}return e.prototype.parse=function(e){var i;e instanceof ArrayBuffer?(i=t.Manager.pool.createByteArray(),i.buffer=e):i=e;for(var n,o,r,s=0,a=i.readByte();a>s;)s++,n=i.readUTF(),o=i.readInt(),r=t.Manager.pool.createByteArray(),r.writeBytes(i,i.position,o),i.position+=o,r.position=0,this._dic[n]=r;t.Manager.pool.pushByteArray(i)},e.prototype.getCVOData=function(t){return this._dic[t]},e.prototype.clearCVOData=function(e){t.Manager.pool.pushByteArray(this._dic[e]),delete this._dic[e]},e}();t.CVOModel=e,__reflect(e.prototype,"devil.CVOModel")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.setup=function(){this.canvas=new t.CanvasModel,this.cvo=new t.CVOModel,this.lifecyclePause=!1,this.wxGame=new t.WXGameModel,this.resConfig=new t.ResourceConfig2},e}();t.Model=e,__reflect(e.prototype,"devil.Model")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.gameName="game",this.masterCtrl=!1,this.list=[],this._receiveFreeCount=0,this._hasReceiveFreeCount=0}return Object.defineProperty(e.prototype,"leftReceiveCount",{get:function(){var t=this._receiveFreeCount-this._hasReceiveFreeCount;return 0>t?0:t},enumerable:!0,configurable:!0}),e.prototype.getGameCtrl=function(t){return this.gameCtrl?"1"==this.gameCtrl[t]:!1},Object.defineProperty(e.prototype,"receiveFreeCount",{get:function(){return this._receiveFreeCount},set:function(e){this._receiveFreeCount!=e&&(this._receiveFreeCount=e,t.Manager.wx.writeReceiveFreeCount(),t.Manager.event.dispatchEvent(new t.WXGameEvent(t.WXGameEvent.UPDATE_RECEIVE_COUNT)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasReceiveFreeCount",{get:function(){return this._hasReceiveFreeCount},set:function(e){e=t.MathUtil.clamb(0,this._receiveFreeCount,e),this._hasReceiveFreeCount!=e&&(this._hasReceiveFreeCount=e,t.Manager.wx.writeHasReceiveFreeCount(),t.Manager.event.dispatchEvent(new t.WXGameEvent(t.WXGameEvent.UPDATE_RECEIVE_COUNT)))},enumerable:!0,configurable:!0}),e}();t.WXGameModel=e,__reflect(e.prototype,"devil.WXGameModel")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.prototype.parse=function(t){this.nickName=t.nickName,this.avatarUrl=t.avatarUrl,this.gender=t.gender,this.country=t.country,this.province=t.province,this.city=t.city},t}();t.UserInfo=e,__reflect(e.prototype,"devil.UserInfo")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"protocol",{get:function(){return this._protocol},enumerable:!0,configurable:!0}),e.prototype.receive=function(t){},e.prototype.processOut=function(t){},Object.defineProperty(e.prototype,"canSend",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.send=function(){if(this.canSend){var e=t.TCPPacketOut.create(this._protocol);this.processOut(e),t.Manager.socket.send(e)}},e}();t.BaseCMD=e,__reflect(e.prototype,"devil.BaseCMD")}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._protocol},set:function(t){this._protocol=t},enumerable:!0,configurable:!0}),e}(t.ByteArrayExtend);t.TCPPacketIn=e,__reflect(e.prototype,"devil.TCPPacketIn")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.writePacketLenAndVerify=function(){this.position=0,this.writeShort(this.length-i.COMMON_TOTAL_LEN),this.position=i.LENGTH_LEN+i.PROTOCOL_LEN,this.writeByte(t.Manager.socket.verify),t.Manager.socket.addVerify(),this.position=0},i.create=function(e){var n=t.Manager.pool.create(i);return n.position=i.LENGTH_LEN,n.protocol=e,n.writeShort(e),n.position=i.LENGTH_LEN+i.PROTOCOL_LEN+i.VERIFY_LEN,n},i.LENGTH_LEN=2,i.PROTOCOL_LEN=2,i.VERIFY_LEN=1,i.COMMON_TOTAL_LEN=5,i}(t.ByteArrayExtend);t.TCPPacketOut=e,__reflect(e.prototype,"devil.TCPPacketOut")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.CANVAS,i}return __extends(i,e),i.prototype.read=function(t,e){t.position=0,this.setSize(t.readShort(),t.readShort()),this.readChildren(t,e)},i.prototype.readChildren=function(e,i){for(var n=e.readByte(),o=0;n>o;o++)t.Manager.uiRead.read(this,e,i,this.setProperty,this);this.readDataComplete()},i}(t.Container);t.Canvas=e,__reflect(e.prototype,"devil.Canvas")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"path",{set:function(t){if(this._path!=t&&(this.clear(),this._path=t,null!=this._path)){var e=t.key.lastIndexOf("/");this._source=t.key.slice(e+1,t.key.length-8),this.loadData()}},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._playTimes=0,this._isPool=!1},i.prototype.loadData=function(){t.Manager.loader.load(this._path,this.___complete,this,t.ResourceGCType.NEVER)},i.prototype.clear=function(){t.StringUtil.isEmpty(this._source)||t.Manager.loader.remove(this._path,this.___complete,this),this._display&&(this._display.removeEventListener(dragonBones.EventObject.COMPLETE,this.___playComplete,this),this._display.parent.removeChild(this._display),this._display=null)},i.prototype.addToStage=function(){this.play(this._playTimes)},i.prototype.removeFromStage=function(){this.stop()},i.prototype.play=function(t){null!=this._display&&this._display.play(t)},i.prototype.stop=function(){null!=this._display&&this._display.stop()},i.prototype.unuse=function(){this.clear(),this._layer=null,this._path=null,this._action=void 0,this._playComplete&&this._playComplete.pool(),this._playComplete=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this.clear(),this._layer=null,this._path=null,this._playComplete&&this._playComplete.pool(),this._playComplete=null,e.prototype.dispose.call(this)},i.prototype.___complete=function(t){this._data=t.data,this._display=new egret.MovieClip(this._data.generateMovieClipData(this._source)),this._display.addEventListener(egret.Event.COMPLETE,this.___playComplete,this),this._layer.addChild(this._display),this._layer.stage&&this.play(this._playTimes)},i.prototype.__playComplete=function(e,i){this._playComplete=t.CallBackInfo.create(e,i)},i.prototype.___playComplete=function(t){null!=this._playComplete&&this._playComplete.runCallBack()},i}(t.View);t.MovieClipAnimation=e,__reflect(e.prototype,"devil.MovieClipAnimation")}(devil||(devil={}));var devil;!function(t){var e;!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.SELECTED=2]="SELECTED",t[t.DISANABLED=3]="DISANABLED"}(e=t.ButtonState||(t.ButtonState={}))}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.IMAGE_REMOTE,i}return __extends(i,e),Object.defineProperty(i.prototype,"url",{get:function(){return this._source},set:function(e){e instanceof t.PathInfo?this._path!=e&&(this.source=null!=e?e.key:null,this._path=e):this.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"source",{set:function(e){this._source!=e&&(this._path?(t.Manager.loader.remove(this._path,this.___complete,this),this._path=null):this._bitmap.texture=null,this._source=e,null!=this._source&&""!=this._source&&this.invalidate(t.InvalidationType.DATA))},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._width=-1,this._height=-1},i.prototype.drawData=function(){null==this._path&&null!=this._source&&""!=this._source&&(this._path=t.PathInfo.getPath(this._source,t.LoaderType.IMAGE,!1)),null!=this._path&&t.Manager.loader.load(this._path,this.___complete,this,t.ResourceGCType.COMMON,t.ResPriorityType.LOAD_LEVEL5)},i.prototype.___complete=function(e){var i=e.texture;null!=i&&(this._bitmap.texture=i,this._width=this._width<0?i.textureWidth:this._width,this._height=this._height<0?i.textureHeight:this._height,this._bitmap.width=this._width,this._bitmap.height=this._height,this._invalid=this._invalid^t.InvalidationType.SIZE,null!=this._completeFun&&this._completeFun.runCallBack(e,this))},i}(t.Image);t.ImageRemote=e,__reflect(e.prototype,"devil.ImageRemote")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.RADIO_BUTTON,i}return __extends(i,e),i.prototype.setSelected=function(t){this._common.selected=t},i.prototype.getSelected=function(){return this._common.selected},i.prototype.setSelector=function(t){this._selector=t},i.prototype.start=function(){e.prototype.start.call(this),this._width=t.ComponentDefault.RADIO_BUTTON_WIDTH,this._height=t.ComponentDefault.RADIO_BUTTON_HEIGHT,this.setLabelOffset(this._width+5,0),this._label.align=egret.HorizontalAlign.LEFT},i.prototype.drawSize=function(){this._currentBack.width=this._width,this._currentBack.height=this._height},i.prototype.drawLayout=function(){this._labelX=this._width+this._labelOffsetX,this._labelY=(this._height-this._label.height>>1)+this._labelOffsetY,this._label.move(this._labelX,this._labelY)},i.prototype.unuse=function(){this._selector=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._selector=null,e.prototype.dispose.call(this)},i.prototype.___handleEvent=function(t){t.type==egret.TouchEvent.TOUCH_TAP&&this._common.selected||(e.prototype.___handleEvent.call(this,t),this._common.selected&&(this._selector.selectedView=this))},i}(t.ButtonTextSelected);t.RadioButton=e,__reflect(e.prototype,"devil.RadioButton",["devil.IRadioSelected","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.TEXT,i}return __extends(i,e),Object.defineProperty(i.prototype,"color",{get:function(){return this._textField.textColor},set:function(t){this._textField.textColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._textField.bold},set:function(t){this._textField.bold=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._textField.size},set:function(t){this._textField.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._textField.text},set:function(t){this._textField.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._textField.textAlign},set:function(t){this._textField.textAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editor",{set:function(t){t?this._textField.type=egret.TextFieldType.INPUT:this._textField.type=egret.TextFieldType.DYNAMIC,this._textField.touchEnabled=t,this.touchChildren=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this._textField.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this._textField.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._textField.wordWrap},set:function(t){this._textField.wordWrap=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiline",{get:function(){return this._textField.multiline},set:function(t){this._textField.multiline=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{set:function(t){this._textField.verticalAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"htmlText",{set:function(t){this._textField.textFlow=(new egret.HtmlTextParser).parser(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{set:function(t){this._textField.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{set:function(t){this._textField.strokeColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{set:function(t){this._textField.lineSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"border",{set:function(t){this._textField.border=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textType",{set:function(t){this._textField.type=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"background",{set:function(t){this._textField.background=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{set:function(t){this._textField.backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._textField.maxChars},set:function(t){this._textField.maxChars=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayAsPassword",{get:function(){return this._textField.displayAsPassword},set:function(t){this._textField.displayAsPassword=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._textField.restrict},set:function(t){this._textField.restrict=t},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._width=t.ComponentDefault.TEXT_WIDTH,this._height=t.ComponentDefault.TEXT_HEIGHT,this._textField=t.Manager.pool.createTextField(),this._textField.verticalAlign=egret.VerticalAlign.MIDDLE,this._layer.addChild(this._textField)},i.prototype.removeEvent=function(){this._layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___click,this),this._textField.removeEventListener(egret.TextEvent.LINK,this.___link,this),this._textField.removeEventListener(egret.FocusEvent.FOCUS_IN,this.___focusIn,this),this._textField.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.___focusOut,this)},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.SIZE)&&this.drawSize()},i.prototype.drawSize=function(){this._textField.width=this._width,this._textField.height=this._height},i.prototype.appendText=function(t){this._textField.appendText(t)},i.prototype.setFocus=function(){this._textField.setFocus()},i.prototype.unuse=function(){this.removeEvent(),t.Manager.pool.pushTextField(this._textField),this._textField=null,this._layer=null,this._clickFun&&this._clickFun.pool(),this._clickFun=null,this._linkFun&&this._linkFun.pool(),this._linkFun=null,this._focusInFun&&this._focusInFun.pool(),this._focusInFun=null,this._focusOutFun&&this._focusOutFun.pool(),this._focusOutFun=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this.removeEvent(),t.Manager.pool.pushTextField(this._textField),this._textField=null,this._layer=null,this._clickFun&&this._clickFun.pool(),this._clickFun=null,this._linkFun&&this._linkFun.pool(),this._linkFun=null,this._focusInFun&&this._focusInFun.pool(),this._focusInFun=null,this._focusOutFun&&this._focusOutFun.pool(),this._focusOutFun=null,e.prototype.dispose.call(this)},i.prototype.__click=function(e,i){this._layer.touchEnabled=!0,this._layer.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this._layer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___click,this),this._clickFun=t.CallBackInfo.create(e,i)},i.prototype.___click=function(t){null!=this._clickFun&&this._clickFun.runCallBack(t,this)},i.prototype.__link=function(e,i){this._textField.touchEnabled=!0,this._textField.hasEventListener(egret.TextEvent.LINK)||this._textField.addEventListener(egret.TextEvent.LINK,this.___link,this),this._linkFun=t.CallBackInfo.create(e,i)},i.prototype.___link=function(t){null!=this._linkFun&&this._linkFun.runCallBack(t,this)},i.prototype.__focusIn=function(e,i){this._textField.touchEnabled=!0,this._focusInFun=t.CallBackInfo.create(e,i),this._textField.hasEventListener(egret.FocusEvent.FOCUS_IN)||this._textField.addEventListener(egret.FocusEvent.FOCUS_IN,this.___focusIn,this)},i.prototype.___focusIn=function(t){null!=this._focusInFun&&this._focusInFun.runCallBack(t,this)},i.prototype.__focusOut=function(e,i){this._focusOutFun=t.CallBackInfo.create(e,i),this._textField.hasEventListener(egret.FocusEvent.FOCUS_OUT)||this._textField.addEventListener(egret.FocusEvent.FOCUS_OUT,this.___focusOut,this)},i.prototype.___focusOut=function(t){null!=this._focusOutFun&&this._focusOutFun.runCallBack(t,this)},i}(t.Component);t.Text=e,__reflect(e.prototype,"devil.Text")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.TEXT_INPUT,i}return __extends(i,e),Object.defineProperty(i.prototype,"editor",{get:function(){return this._editor},set:function(t){this._editor!=t&&(this._editor=t,this._text.editor=this._editor)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text.text==this._prompt?"":this._text.text},set:function(t){this._text.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._text.color},set:function(t){this._text.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._text.bold},set:function(t){this._text.bold=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._text.size},set:function(t){this._text.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._text.align},set:function(t){this._text.align=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enabled",{set:function(e){this._enabled!=e&&(this._enabled=e,this.touchEnabled=this._enabled,this.touchChildren=this._enabled,this.invalidate(t.InvalidationType.ENABLED))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"prompt",{get:function(){return this._prompt},set:function(e){this._prompt=e,t.StringUtil.isEmpty(this._prompt)||(this._text.text=this._prompt,this._text.displayAsPassword=!1,this._text.__focusIn(this.___focusIn,this),this._text.__focusOut(this.___focusOut,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._text.maxChars},set:function(t){this._text.maxChars=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayAsPassword",{get:function(){return this._text.displayAsPassword},set:function(t){this._displayAsPassword=t,this._text.displayAsPassword=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._text.restrict},set:function(t){this._text.restrict=t},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this.autoCreateLayer(2),this.touchEnabled=!0,this.touchChildren=!0,this._editor=!0,this._width=t.ComponentDefault.TEXT_WIDTH,this._height=t.ComponentDefault.TEXT_HEIGHT,this._back=t.View.create(t.Image),this.addChild(this._back,this._layers[0]),this._text=t.View.create(t.Text),this._text.x=5,this.addChild(this._text,this.layers[1]),this._text.editor=!0,this._layers[1].touchChildren=!0,this._prompt="",this._displayAsPassword=!1},i.prototype.setDefaultStyle=function(){this._styles[t.StyleName.UP_BACK_SKIN]=null,this._styles[t.StyleName.DISENABLED_BACK_SKIN]=null},i.prototype.draw=function(){e.prototype.draw.call(this),(this.isInvalid(t.InvalidationType.STYLE)||this.isInvalid(t.InvalidationType.ENABLED))&&this.drawStyle(),this.isInvalid(t.InvalidationType.SIZE)&&this.drawSize()},i.prototype.drawStyle=function(){var e;this._enabled||(e=this.getImageData(t.StyleName.DISENABLED_BACK_SKIN)),null==e&&(e=this.getImageData(t.StyleName.UP_BACK_SKIN)),this._back.source=e.name,this._back.scale9Grid=e.scale9Grid},i.prototype.drawSize=function(){this._back.setSize(this._width,this._height),this._text.setSize(this._width,this._height),this._back.repaint(),this._text.repaint()},i.prototype.setFocus=function(){this._text.setFocus()},i.prototype.unuse=function(){this._text=null,this._back=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._text=null,this._back=null,e.prototype.dispose.call(this)},i.prototype.___focusIn=function(t,e){this._text.text==this._prompt&&(this._text.text="",this._text.displayAsPassword=this._displayAsPassword)},i.prototype.___focusOut=function(e,i){t.StringUtil.isEmpty(this._text.text)&&(this._text.displayAsPassword=!1,this._text.text=this._prompt)},i}(t.Container);t.TextInput=e,__reflect(e.prototype,"devil.TextInput")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._loadCompletes=[],t}return __extends(i,e),Object.defineProperty(i.prototype,"currentFrame",{get:function(){return this._currentFrame},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalFrame",{get:function(){return this._cvo.totalFrame},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"url",{get:function(){return this._path?this._path.urls[0]:""},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this.init(),this._image=t.View.create(t.Image),this.addChild(this._image,this._layer)},i.prototype.addToStage=function(){this._autoPlay&&this.play()},i.prototype.removeFromStage=function(){this.stop()},i.prototype.load=function(){t.Manager.loader.load(this._path,this.___complete,this,this._resourceGCType,this._resPriorityType,this.___fail,this)},i.prototype["goto"]=function(e){var i=this;e=t.MathUtil.clamb(1,i._cvo.totalFrame,e),i._currentFrame=e;var n=i._cvo.frames.indexOf(i._currentFrame);if(-1!=n){i._nextFrame=n+1>=i._cvo.frames.length?1e4:i._cvo.frames[n+1];var o=i.ids?i._data.getKeyFrameData(this.ids[n]):i._data.getKeyFrameData(n+1);i._image.move(-i._cvo.offsetX+o.offX,-i._cvo.offsetY+o.offY),this._image.setSize(-1,-1),i._image.source=o.texture}},i.prototype.gotoAndStop=function(e){null==this._data?this._loadCompletes.push(t.CallBackInfo.create(this.gotoAndStop,this,e)):(this.stop(),this._currentTime=e*t.Manager.stage.frameTime,this["goto"](e))},i.prototype.gotoAndPlay=function(e){null==this._data?this._loadCompletes.push(t.CallBackInfo.create(this.gotoAndPlay,this,e)):(this.play(),this._currentTime=e*t.Manager.stage.frameTime,this["goto"](e))},i.prototype.playComplete=function(){this._playCompleteFun&&this._playCompleteFun.runCallBack(),this._playCompleteDispose?this.pool():(this.stop(),this._repeate=this._cvo.wrapMode<=0?-1:this._cvo.wrapMode)},i.prototype.play=function(){this._data&&this._layer.stage&&(this._cvo.totalFrame>1?t.Manager.render.add(this.___render,this):1==this._cvo.totalFrame&&this.gotoAndStop(1))},i.prototype.stop=function(){t.Manager.render.remove(this.___render,this)},i.prototype.init=function(){this._currentCount=1,this._currentFrame=1,this._nextFrame=1e4,this._currentTime=0},i.prototype.update=function(e,i,n,o,r,s){if(void 0===o&&(o=3),void 0===r&&(r=!0),void 0===s&&(s=!0),this._path!=e){this.stop(),this.init(),this._layer.touchEnabled=this._layer.touchChildren=!1,this._image.source=null,this._data=null,this._playCompleteFun&&this._playCompleteFun.pool(),this._playCompleteFun=null,this._failFun&&this._failFun.pool(),this._failFun=null;for(var a=0;a<this._loadCompletes.length;a++)this._loadCompletes[a].pool();this._loadCompletes.length=0,null!=this._path&&t.Manager.loader.remove(this._path,this.___complete,this,this.___fail,this),this._path=e,this._cvo=i,this._resourceGCType=o,this._resPriorityType=n,this._autoPlay=r,this._playCompleteDispose=s,this._repeate=i.wrapMode<=0?-1:i.wrapMode,this.scaleX=i.scale,this.scaleY=i.scale,this.load()}},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.SIZE)&&this.drawSize()},i.prototype.drawSize=function(){this._layer.width=this._width,this._layer.height=this._height},i.prototype.unuse=function(){this.stop(),this.ids=null,this._image=null,this._cvo=null,t.Manager.loader.remove(this._path,this.___complete,this,this.___fail,this),this._path=null,this._data=null,this._playCompleteFun&&this._playCompleteFun.pool(),this._playCompleteFun=null,this._failFun&&this._failFun.pool(),this._failFun=null,this._layer=null;for(var i=0;i<this._loadCompletes.length;i++)this._loadCompletes[i].pool();this._loadCompletes.length=0,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this.stop(),this.ids=null,this._image=null,this._cvo=null,t.Manager.loader.remove(this._path,this.___complete,this,this.___fail,this),this._path=null,this._data=null,this._playCompleteFun&&this._playCompleteFun.pool(),this._playCompleteFun=null,this._failFun&&this._failFun.pool(),this._failFun=null,this._layer=null;for(var i=0;i<this._loadCompletes.length;i++)this._loadCompletes[i].pool();this._loadCompletes=null,e.prototype.dispose.call(this)},i.prototype.__playComplete=function(e,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._playCompleteFun=t.CallBackInfo.create.apply(t.CallBackInfo,[e,i].concat(n))},i.prototype.__fail=function(e,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._failFun=t.CallBackInfo.create.apply(t.CallBackInfo,[e,i].concat(n))},i.prototype.___complete=function(t){this._data=t.sheet;var e=this._loadCompletes.length;if(e>0){for(var i=0;e>i;i++)this._loadCompletes[i].runCallBack(),this._loadCompletes[i].pool();this._loadCompletes.length=0}else this._autoPlay&&this.play()},i.prototype.___render=function(e){var n=this;n["goto"](n._currentFrame),n._currentTime+=Math.max(e,t.Manager.stage.frameTime),n._currentFrame=Math.ceil(n._currentTime/i.ANIMATION_INTERVAL),n._currentFrame>n._nextFrame&&(n._currentFrame=n._nextFrame),n._currentFrame>n._cvo.totalFrame&&(n._currentTime=t.Manager.stage.frameTime,n._currentFrame=1,n._repeate>0&&(n._currentCount++,n._repeate--,n._repeate<=0&&n.playComplete()))},i.prototype.___fail=function(t){t.getPath()==this._path&&this._failFun&&this._failFun.runCallBack()},i.ANIMATION_INTERVAL=33,i}(t.Container);t.Animation=e,__reflect(e.prototype,"devil.Animation")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.BLACK=0,t.WHITE=16777215,t.RED=16711680,t.GREEN=65280,t.BLUE=255,t}();t.Color=e,__reflect(e.prototype,"devil.Color")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.CONTAINER_WIDTH=100,t.CONTAINER_HEIGHT=100,t.CANVAS_WIDTH=720,t.CANVAS_HEIGHT=1280,t.TEXT_WIDTH=100,t.TEXT_HEIGHT=20,t.BUTTON_WIDTH=100,t.BUTTON_HEIGHT=20,t.MENU_WIDTH=100,t.MENU_HEIGHT=25,t.CHECK_BOX_WIDTH=13,t.CHECK_BOX_HEIGHT=13,t.RADIO_BUTTON_WIDTH=17,t.RADIO_BUTTON_HEIGHT=17,t.IMAGE_REMOTE_WIDTH=100,t.IMAGE_REMOTE_HEIGHT=100,t.SCROLL_BAR_WIDTH=11,t.SCROLL_BAR_HEIGHT=100,t}();t.ComponentDefault=e,__reflect(e.prototype,"devil.ComponentDefault")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.CANVAS=1,t.CONTAINER=2,t.PANEL_CONTAINER=3,t.TEXT=4,t.IMAGE=5,t.BUTTON_IMAGE=6,t.BUTTON_ICON=7,t.BUTTON_TXT=8,t.BUTTON_IMAGE_SELECTED=9,t.BUTTON_ICON_SELECTED=10,t.BUTTON_TEXT_SELECTED=11,t.BUTTON_SELECTED=12,t.CHECK_BOX=13,t.RADIO_BUTTON=14,t.SCROLL_BAR=15,t.COMBOBOX=16,t.TEXT_INPUT=17,t.TEXT_AREA=18,t.IMAGE_REMOTE=19,t.TAB=20,t.LIST=21,t.PANEL=22,t.MENU_BAR=23,t.MENU_ITEM=24,t.MENU_SUB_ITEM=25,t.MENU_ITEM_BUTTON_TEXT=26,t.MENU_SUB_ITEM_BUTTON_TEXT=27,t.TREE=28,t.TAB_BUTTON=29,t.SLIDER=30,t.CHECK_BOX1=31,t}();t.ComponentType=e,__reflect(e.prototype,"devil.ComponentType")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.getDirections=function(t){return void 0===t&&(t=0),0==t?[this.LEFT,this.RIGHT,this.UP,this.DOWM]:1==t?[this.LEFT_DOWN,this.LEFT_UP,this.RIGHT_DOWN,this.RIGHT_UP]:[this.LEFT,this.RIGHT,this.UP,this.DOWM,this.LEFT_DOWN,this.LEFT_UP,this.RIGHT_DOWN,this.RIGHT_UP]},t.getRotation=function(e){var i=0;switch(e){case t.UP:i=-90;break;case t.DOWM:i=90;break;case t.LEFT:i=180;break;case t.RIGHT:i=0;break;case t.LEFT_UP:i=-135;break;case t.LEFT_DOWN:i=135;break;case t.RIGHT_UP:i=-45;break;case t.RIGHT_DOWN:i=45}return i},t.UP=0,t.DOWM=1,t.LEFT=2,t.RIGHT=3,t.LEFT_UP=4,t.LEFT_DOWN=5,t.RIGHT_UP=6,t.RIGHT_DOWN=7,t}();t.Direction=e,__reflect(e.prototype,"devil.Direction")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"button",{set:function(t){this._button=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._button.buttonState==t.ButtonState.SELECTED},set:function(e){this._button.buttonState!=t.ButtonState.DISANABLED&&(this._button.buttonState!=t.ButtonState.SELECTED&&e?this._button.buttonState=t.ButtonState.SELECTED:this._button.buttonState!=t.ButtonState.SELECTED||e||(this._button.buttonState=t.ButtonState.UP))},enumerable:!0,configurable:!0}),e.prototype.reuse=function(){},e.prototype.unuse=function(){this._button=null},e.prototype.dispose=function(){this._button=null},e.prototype.pool=function(){t.Manager.pool.push(this)},e}();t.ButtonSelectedBase=e,__reflect(e.prototype,"devil.ButtonSelectedBase",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.PNG="png",t.JPG="jpg",t.MP3="mp3",t.TXT="txt",t.JSON="json",t.PNG_=".png",t.JPG_=".jpg",t.MP3_=".mp3",t.TXT_=".txt",t.JSON_=".json",t}();t.Extension=e,__reflect(e.prototype,"devil.Extension")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.getWrapMode=function(i){switch(i){case e.STAND:case e.WALK:case e.SIT:return t.WrapMode.LOOP;case e.ATTACK1:case e.ATTACK2:case e.ATTACK3:case e.DEAD:case e.JUMP:case e.HITED:return t.WrapMode.ONCE}return t.WrapMode.ONCE},e.isAttackAction=function(t){return-1!=t.indexOf("attack")},e.STAND="stand",e.WALK="walk",e.JUMP="jump",e.DEAD="dead",e.HITED="hited",e.ATTACK1="attack1",e.ATTACK2="attack2",e.ATTACK3="attack3",e.SIT="sit",e}();t.FigureAction=e,__reflect(e.prototype,"devil.FigureAction")}(devil||(devil={}));var devil;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setSelected=function(t){this._common.selected=t},e.prototype.getSelected=function(){return this._common.selected},e.prototype.setSelector=function(t){this._selector=t},e.prototype.unuse=function(){this._selector=null,t.prototype.unuse.call(this)},e.prototype.dispose=function(){this._selector=null,t.prototype.dispose.call(this)},e.prototype.___handleEvent=function(e){if(e.type==egret.TouchEvent.TOUCH_TAP){if(this._common.selected)return;this._selector.selectedView=this}t.prototype.___handleEvent.call(this,e)},e}(t.ButtonImageSelected);t.RadioButtonImageSelected=e,__reflect(e.prototype,"devil.RadioButtonImageSelected",["devil.IRadioSelected","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.CHECK_BOX,i}return __extends(i,e),i.prototype.start=function(){e.prototype.start.call(this),this._width=t.ComponentDefault.CHECK_BOX_WIDTH,this._height=t.ComponentDefault.CHECK_BOX_HEIGHT,this.setLabelOffset(this._width+5,0),this._label.align=egret.HorizontalAlign.LEFT
},i.prototype.drawSize=function(){this._currentBack.width=this._width,this._currentBack.height=this._height},i.prototype.drawLayout=function(){this._labelX=this._width+this._labelOffsetX,this._labelY=(this._height-this._label.height>>1)+this._labelOffsetY,this._label.move(this._labelX,this._labelY)},i}(t.ButtonTextSelected);t.CheckBox=e,__reflect(e.prototype,"devil.CheckBox")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.CHECK_BOX1,i}return __extends(i,e),i.prototype.start=function(){e.prototype.start.call(this),this._width=t.ComponentDefault.CHECK_BOX_WIDTH,this._height=t.ComponentDefault.CHECK_BOX_HEIGHT,this.setLabelOffset(5,0),this._label.align=egret.HorizontalAlign.LEFT,this._icon=t.View.create(t.Image),this._txtLayer.touchEnabled=!0},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._txtLayer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._txtLayer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._txtLayer.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._txtLayer.addEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._txtLayer.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._txtLayer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._txtLayer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._txtLayer.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._txtLayer.removeEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._txtLayer.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this)},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[t.StyleName.SELECT_ICON_SKIN]=null},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.STYLE)&&this.drawStyle()},i.prototype.drawSize=function(){this._currentBack.width=this._width,this._currentBack.height=this._height},i.prototype.drawStyle=function(){this._icon.source=this.getStyle(t.StyleName.SELECT_ICON_SKIN),this._icon.__complete(this.___complete,this)},i.prototype.drawLayout=function(){this._labelX=this._width+this._labelOffsetX,this._labelY=(this._height-this._label.height>>1)+this._labelOffsetY,this._label.move(this._labelX,this._labelY)},i.prototype.drawSkin=function(i){e.prototype.drawSkin.call(this,i),this._buttonState==t.ButtonState.SELECTED?null==this._icon.parent&&this.addChild(this._icon,this._layer):this._icon.parent&&this.removeChild(this._icon,!1)},i.prototype.unuse=function(){null==this._icon.parent&&this.removeChild(this._icon,!0),this._icon=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){null==this._icon.parent&&this.removeChild(this._icon,!0),this._icon=null,e.prototype.dispose.call(this)},i.prototype.___complete=function(t,e){this._icon.x=this._width-this._icon.width>>1,this._icon.y=this._height-this._icon.height>>1},i}(t.ButtonTextSelected);t.CheckBox1=e,__reflect(e.prototype,"devil.CheckBox1")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.MICROSOFT_YA_HEI="Microsoft YaHei",t}();t.FontName=e,__reflect(e.prototype,"devil.FontName")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.getCount=function(){return this._numChildren},Object.defineProperty(i.prototype,"showCount",{get:function(){return this._showCount},set:function(t){this._showCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemWidth",{get:function(){return this._itemWidth},set:function(t){this._itemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemHeight",{get:function(){return this._itemHeight},set:function(t){this._itemHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selector.selectedIndex},set:function(t){this._selector.selectedIndex=t},enumerable:!0,configurable:!0}),i.prototype.getCurrent=function(){return this._selector.currentSelected},i.prototype.getScrollH=function(){return 0},i.prototype.getScrollV=function(){return 0},i.prototype.setScrollH=function(t){},i.prototype.setScrollV=function(t){},i.prototype.start=function(){e.prototype.start.call(this),this._selector=new t.RadioSelector,this.holdBottom=!1},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.LAYOUT)&&this.drawLayOut()},i.prototype.drawLayOut=function(){for(var t,e,i=0;i<this._numChildren;i++)t=i%this._col,e=Math.floor(i/this._col),this._children[i].move(t*(this._itemWidth+this._paddingH),e*(this._itemHeight+this._paddingV))},i.prototype.add=function(t){this.addAt(t,this._numChildren)},i.prototype.addAt=function(t,e){var i=[];i[0]=t,i[1]=e,i=i.concat(this._layers),this.addChildAt.apply(this,i),this._selector.addAt(t,e),t.setSelector(this._selector),this.updateWH()},i.prototype.getItemAt=function(t){var e=this.getChildAt(t);return e},i.prototype.remove=function(e){if(e instanceof t.View){var i=this._children.indexOf(e);this.removeAt(i)}},i.prototype.removeAt=function(t){this.removeChildAt(t,!0);var e=this._children[t];this._selector.remove(e),this.updateWH()},i.prototype.clear=function(){this.removeChildren()},i.prototype.clearData=function(){for(var t,e=0;e<this._numChildren;e++)t=this._children[e],t.clearData()},i.prototype.updateWH=function(){this._numChildren>=this._col?this._width=this._col*(this._itemWidth+this._paddingH)-this._paddingH:this._width=this._numChildren*(this._itemWidth+this._paddingH);var t=this._numChildren>=this._col?Math.ceil(this._numChildren/this._col):1;this._height=t*(this._itemHeight+this._paddingH)},i.prototype.unuse=function(){this._selector.dispose(),this._selector=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._selector.dispose(),this._selector=null,e.prototype.dispose.call(this)},i.prototype.__change=function(t,e){this._selector.__change(t,e)},i.createSelf=function(e,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var s=t.View.create(i);return s._row=e,s._col=n,s._paddingV=o,s._paddingH=r,s},i}(t.Container);t.BoxContainer=e,__reflect(e.prototype,"devil.BoxContainer",["devil.IListContainer","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._type=t.ComponentType.LIST,i}return __extends(i,e),Object.defineProperty(i.prototype,"scrollPolicyV",{get:function(){return this._scrollPolicyV},set:function(t){this._scrollPolicyV!=t&&(this._scrollPolicyV=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollPolicyH",{get:function(){return this._scrollPolicyH},set:function(t){this._scrollPolicyH!=t&&(this._scrollPolicyH=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!=t){this._container=t,this._container.setSize(this._width,this._height);var e=this._container;this.addChild(e,this._layer),this._scroll.list=this}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bounces",{set:function(t){this._scroll.bounces=t},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._scroll=t.Manager.pool.create(t.ScrollBar),this._scrollPolicyH=t.ScrollPolicy.OFF,this._scrollPolicyV=t.ScrollPolicy.AUTO,this._layout=i.VERTICAL},i.prototype.unuse=function(){this._scroll.pool(),this._scroll=null,this._container=null,this._layer=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._scroll.pool(),this._scroll=null,this._container=null,this._layer=null,e.prototype.dispose.call(this)},i.VERTICAL=1,i.HORIZONTAL=2,i}(t.Container);t.List=e,__reflect(e.prototype,"devil.List")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.NEI_LIAN="neilian",t}();t.GameCtrl=e,__reflect(e.prototype,"devil.GameCtrl")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.contentWidthOffset=0,t}return __extends(i,e),i.prototype.start=function(){e.prototype.start.call(this),this.contentWidthOffset=0},i.prototype.sortPosition=function(){for(var e,i,n=this.getStartPosition(this._startIndex>0?this._startIndex:0),o=this._startIndex;o<=this._endIndex;o++)e=this.createItem(o),i=e,this.getDirection()==t.List.VERTICAL?(i.y=n,n+=i.height+this._paddingV):(i.x=n,n+=i.width+this._paddingH)},i.prototype.getStartPosition=function(e){for(var i,n=0,o=0;o<this.showCount&&(i=this._datas[o],e!==o);o++)n+=this.getDirection()==t.List.VERTICAL?i.height+this._paddingV:i.width+this._paddingH;return n},i.prototype.findIndexAt=function(e,i,n){var o=.5*(i+n)|0,r=this._datas[o+1],s=this.getStartPosition(o*this._col),a=null!=r?r.width+this._paddingH:0;return this.getDirection()==t.List.VERTICAL&&(a=null!=r?r.height+this._paddingV:0),e>=s&&s+a>e?o:i==n?-1:s>e?this.findIndexAt(e,i,Math.max(i,o-1)):this.findIndexAt(e,Math.min(o+1,n),n)},i.prototype.getIndexInView=function(){var e=this.showCount;if(0==e||0==this._width||0==this._height)return this._startIndex=-1,this._endIndex=-1,!1;var i,n,o,r=this._datas[e-1];this.getDirection()==t.List.VERTICAL?(i=r.height,n=this._scrollV,o=this._height):(i=r.width,n=this._scrollH,o=this._width);var s=this.getStartPosition(e)+i;if(n>s)return this._startIndex=-1,this._endIndex=-1,!1;var a=n+o;if(0>a)return this._startIndex=-1,this._endIndex=-1,!1;var l=this._startIndex,h=this._endIndex;return this._startIndex=this.findIndexAt(n,0,Math.ceil((e-1)/this._col)),-1==this._startIndex?this._startIndex=0:this._startIndex=this._startIndex*this._col>=e?e-1:this._startIndex*this._col,this._endIndex=this.findIndexAt(a,0,Math.ceil((e-1)/this._col)),-1==this._endIndex?this._endIndex=e-1:this._endIndex=(this._endIndex+1)*this._col-1>=e?e-1:(this._endIndex+1)*this._col-1,l!=this._startIndex||h!=this._endIndex},i.prototype.drawContentSize=function(){var e=this._datas[0];this.getDirection()==t.List.VERTICAL?(this._contentHeight=this.getStartPosition(this.showCount+1),this._contentWidth=this.showCount>0?e.width:0):(this._contentHeight=this.showCount>0?e.height:0,this._contentWidth=this.getStartPosition(this.showCount+1)+this.contentWidthOffset)},i}(t.ListContainer);t.ListContainer2=e,__reflect(e.prototype,"devil.ListContainer2")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.setTrackAlpha=function(t){this._trackImg.alpha=t},i.prototype.setTrackSource=function(t){this._trackImg.source=t},i.prototype.setThumbSource=function(t){this._thumbImg.source=t},Object.defineProperty(i.prototype,"posOffset",{set:function(e){this._posOffset=e,this.invalidate(t.InvalidationType.LAYOUT)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sizeOffset",{set:function(e){this._sizeOffset=e,this.invalidate(t.InvalidationType.LAYOUT)},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){this._layer=this.createLayer(),this._layer.touchEnabled=!0},i.prototype.start=function(){e.prototype.start.call(this),this.addEvent(),this._posOffset=0,this._sizeOffset=0,this._trackImg=t.Manager.component.createImage("",0,0,this._width,this._height),this.addChild(this._trackImg,this._layer),this._thumbImg=t.Manager.component.createImage("",0,0,this._width,this._height/2),this.addChild(this._thumbImg,this._layer)},i.prototype.addEvent=function(){this._layer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._layer.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.___handleEvent,this)},i.prototype.removeEvent=function(){this._layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._layer.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.___handleEvent,this)},i.prototype.updateContentSize=function(){this.invalidate(t.InvalidationType.DATA)},i.prototype.containerUpdPos=function(t){var e,i;this.isVertical?(e=t/(this.container.contentHeight-this.listHeight),i=Math.ceil((this._height-this._thumbImg.height)*e)):(e=t/(this.container.contentWidth-this.listWidth),i=Math.ceil((this._width-this._thumbImg.width)*e)),this.updateThumbPos(i,!0,!1)},i.prototype.updateThumbPos=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!0),this.isVertical){var n=i?t-(this._thumbImg.height>>1):t,o=Math.min(Math.max(0,n),this._height-this._thumbImg.height);if(this._thumbImg.y=o,this.container&&!e){var r=this._thumbImg.y/(this._height-this._thumbImg.height),s=Math.ceil(r*(this.container.contentHeight-this.listHeight));this.container.setScrollV(s,!1)}}else{var n=i?t-(this._thumbImg.width>>1):t,a=Math.min(Math.max(0,n),this._width-this._thumbImg.width);if(this._thumbImg.x=a,this.container&&!e){var r=this._thumbImg.x/(this._width-this._thumbImg.width),s=Math.ceil(r*(this.container.contentWidth-this.listWidth));this.container.setScrollV(s,!1)}}},i.prototype.___handleEvent=function(t){switch(t.type){case egret.TouchEvent.TOUCH_TAP:case egret.TouchEvent.TOUCH_BEGIN:this.updateThumbPos(this.isVertical?t.localY:t.localX);break;case egret.TouchEvent.TOUCH_MOVE:this.updateThumbPos(this.isVertical?t.localY:t.localX)}},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.SIZE)&&this.drawSize(),this.isInvalid(t.InvalidationType.DATA)&&this.drawData(),this.isInvalid(t.InvalidationType.LAYOUT)&&this.drawLayout()},i.prototype.drawLayout=function(){this.isVertical?(this._thumbImg.x=this._posOffset,this._thumbImg.width=this._width-this._sizeOffset):(this._thumbImg.y=this._posOffset,this._thumbImg.height=this._height-this._sizeOffset)},i.prototype.drawData=function(){this.container&&(this.isVertical?this.container.contentHeight>this.listHeight?(this._thumbImg.height=Math.max(50,Math.floor(this._height*this.listHeight/this.container.contentHeight)),this.updateThumbPos(this._thumbImg.y,!1,!1)):(this._thumbImg.height=this._height,this.updateThumbPos(this._thumbImg.y,!1,!1)):this.container.contentWidth>this.listWidth?(this._thumbImg.width=Math.max(50,Math.floor(this._width*this.listWidth/this.container.contentWidth)),this.updateThumbPos(this._thumbImg.x,!1,!1)):(this._thumbImg.width=this._width,this.updateThumbPos(this._thumbImg.x,!1,!1)))},i.prototype.drawSize=function(){this._trackImg.width=this._width,this._trackImg.height=this._height,this.isVertical?this._thumbImg.width=this._width-this._sizeOffset:this._thumbImg.height=this._height-this._sizeOffset},i.prototype.unuse=function(){this.removeEvent(),this._layer=null,this._trackImg=null,this._thumbImg=null,this.container=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this.removeEvent(),this._layer=null,this._trackImg=null,this._thumbImg=null,this.container=null,e.prototype.dispose.call(this)},i}(t.Container);t.ListSlider=e,__reflect(e.prototype,"devil.ListSlider",["devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.start()}return Object.defineProperty(e.prototype,"list",{set:function(t){this._list=t,this._list.container.layers[0].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this,!0),this._list.container.layers[0].addEventListener(egret.TouchEvent.TOUCH_END,this.___touchEnd,this,!0),this._list.container.layers[0].addEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounces",{set:function(t){this._touchScrollV&&(this._touchScrollV.bounces=t),this._touchScrollH&&(this._touchScrollH.bounces=t)},enumerable:!0,configurable:!0}),e.prototype.start=function(){this._touchStartX=0,this._touchStartY=0,this._touchMoved=!1,this._touchCancle=!1,this._touchScrollH=new t.TouchScroll(this.___update,null,this),this._touchScrollV=new t.TouchScroll(this.___update,null,this)},e.prototype.removeEvent=function(){this._list.layers[0].removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.___touchMove,this),t.Manager.stage.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.___touchEnd,this,!0),t.Manager.stage.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.___touchMove,this)},e.prototype.stopAnimation=function(){this._touchScrollV.stop(),this._touchScrollH.stop()},e.prototype.checkScrollPolicy=function(){return this._verticalCanScroll=this.checkVH(this._list.scrollPolicyV,this._list.container.contentHeight,this._list.height,this._list.container.getScrollV()),this._horizontalCanScroll=this.checkVH(this._list.scrollPolicyH,this._list.container.contentWidth,this._list.width,this._list.container.getScrollH()),this._verticalCanScroll||this._horizontalCanScroll},e.prototype.checkVH=function(e,i,n,o){var r=!1;switch(e){case t.ScrollPolicy.AUTO:r=i>n||0!=o;break;case t.ScrollPolicy.ON:r=!0;break;case t.ScrollPolicy.OFF:r=!1}return r},e.prototype.dispatchBubbleEvent=function(t){var e=egret.Event.create(egret.TouchEvent,event.type,event.bubbles,event.cancelable);e.$initTo(t.stageX,t.stageY,t.touchPointID);var i=this._downTarget;e.$setTarget(i);for(var n=this._list.layers[0].$getPropagationList(i),o=n.length,r=.5*n.length,s=-1,a=0;o>a;a++)if(n[a]===this._list.container.layers[0]){s=a;break}n.splice(0,n.length-s+1),r=0,this._list.layers[0].$dispatchPropagationEvent(e,n,r),egret.Event.release(e)},e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.reuse=function(){this.start()},e.prototype.unuse=function(){this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this,!0),this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_END,this.___touchEnd,this,!0),this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this,!0),this.removeEvent(),this.stopAnimation(),this._touchScrollV.dispose(),this._touchScrollV=null,this._touchScrollH.dispose(),this._touchScrollH=null},e.prototype.dispose=function(){this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___touchBegin,this,!0),this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_END,this.___touchEnd,this,!0),this._list.container.layers[0].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.___touchTap,this,!0),this.removeEvent(),this.stopAnimation(),this._touchScrollV.dispose(),this._touchScrollV=null,this._touchScrollH.dispose(),this._touchScrollH=null},e.prototype.___touchBegin=function(e){this._touchCancle=!1,e.isDefaultPrevented()||this.checkScrollPolicy()&&(this._downTarget=e.target,this.stopAnimation(),this._touchStartX=e.stageX,this._touchStartY=e.stageY,this._horizontalCanScroll&&this._touchScrollH.start(e.stageX),this._verticalCanScroll&&this._touchScrollV.start(e.stageY),this._list.layers[0].addEventListener(egret.TouchEvent.TOUCH_MOVE,this.___touchMove,this),t.Manager.stage.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.___touchEnd,this,!0))},e.prototype.___touchEnd=function(e){e.currentTarget==this._list.container.layers[0]&&this._touchCancle&&(e.$bubbles=!1,this.dispatchBubbleEvent(e),e.$bubbles=!0,e.stopPropagation()),(this._touchCancle||e.currentTarget==t.Manager.stage.stage)&&(this._touchMoved=!1,this.removeEvent(),this._touchScrollH.isStarted()&&this._touchScrollH.finish(this._list.container.getScrollH(),this._list.container.contentWidth-this._list.width),this._touchScrollV.isStarted()&&this._touchScrollV.finish(this._list.container.getScrollV(),this._list.container.contentHeight-this._list.height))},e.prototype.___touchTap=function(t){this._touchCancle&&(t.$bubbles=!1,this.dispatchBubbleEvent(t),t.$bubbles=!0,t.stopPropagation())},e.prototype.___touchMove=function(i){if(!i.isDefaultPrevented()){if(!this._touchMoved){var n=!(Math.abs(this._touchStartX-i.stageX)<e.scrollThreshold),o=!(Math.abs(this._touchStartY-i.stageY)<e.scrollThreshold);if(!n&&!o)return;if(!o&&n&&this._list.scrollPolicyH==t.ScrollPolicy.OFF)return;if(!n&&o&&this._list.scrollPolicyV==t.ScrollPolicy.OFF)return;this._touchCancle=!0,this._touchMoved=!0,t.Manager.stage.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.___touchMove,this)}i.preventDefault(),this._horizontalCanScroll&&this._touchScrollH.update(i.stageX,this._list.container.contentWidth-this._list.width,this._list.container.getScrollH()),this._verticalCanScroll&&this._touchScrollV.update(i.stageY,this._list.container.contentHeight-this._list.height,this._list.container.getScrollV())}},e.prototype.___update=function(t,e){this._touchScrollH==e&&this._list.container.setScrollH(t,!0),this._touchScrollV==e&&this._list.container.setScrollV(t,!0)},e.scrollThreshold=5,e}();t.ScrollBar=e,__reflect(e.prototype,"devil.ScrollBar",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=4,i=2.33,n=[1,1.33,1.66,2],o=.02,r=.998,s=.95,a=Math.log(r),l=function(){function l(e,i,n){this._bounces=!0,this._isStarted=!0,this._isPlaying=!1,this._currentPosition=0,this._maxScrollPos=0,this._offsetPoint=0,this._currentScrollPos=0,this._velocity=0,this._previousVelocity=[],this._previousPosition=0,this._duration=500,this._from=0,this._to=0,this._currentValue=0,this._scrollFactor=1,this._updateFun=t.CallBackInfo.create(e,n),this._endFun=null!=i?t.CallBackInfo.create(i,n):null}return Object.defineProperty(l.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"bounces",{set:function(t){this._bounces=t},enumerable:!0,configurable:!0}),l.prototype.isStarted=function(){return this.isStarted},Object.defineProperty(l.prototype,"scrollFactor",{get:function(){return this._scrollFactor},set:function(t){this._scrollFactor=t},enumerable:!0,configurable:!0}),l.prototype.start=function(t){this._isStarted=!0,this._velocity=0,this._previousVelocity.length=0,this._previousPosition=this._currentPosition=t,this._offsetPoint=t,this._startTime=egret.getTimer(),egret.startTick(this.___render,this)},l.prototype.stop=function(){this._isPlaying=!1,egret.stopTick(this.___render,this),this._isStarted=!1},l.prototype.update=function(t,e,i){e=Math.max(e,0),this._currentPosition=t,this._maxScrollPos=e;var n=this._offsetPoint-t,o=n+i;this._offsetPoint=t,0>o&&(this._bounces?o-=.5*n:o=0),o>e&&(this._bounces?o-=.5*n:o=e),this._currentScrollPos=o,this._updateFun.runCallBack(o,this)},l.prototype.tweenTo=function(t,e){void 0===e&&(e=500),this._currentScrollPos==t?this._endFun&&this._endFun.runCallBack():(this._duration=e,this._from=this._currentScrollPos,this._to=t,this._isPlaying=!0,this._playStartTime=egret.getTimer(),this._currentValue=0)},l.prototype.finishScrolling=function(){var t=this._currentScrollPos,e=this._maxScrollPos,i=t;0>t&&(i=0),t>e&&(i=e),this.tweenTo(i,300)},l.prototype.finish=function(t,e){this._isStarted=!1;for(var l=this._velocity*i,h=this._previousVelocity,c=h.length,u=i,p=0;c>p;p++){var _=n[p];l+=h[0]*_,u+=_}var d=l/u,f=Math.abs(d),y=0,g=0;if(f>o)if(g=t+(d-o)/a*2*this._scrollFactor,0>g||g>e)for(g=t;Math.abs(d)>o;)g-=d,d*=0>g||g>e?r*s:r,y++;else y=Math.log(o/f)/a;else g=t;y>0?(this._bounces||(0>g?g=0:g>e&&(g=e)),this.tweenTo(g,y)):this.finishScrolling()},l.prototype.easeOut=function(t){var e=t-1;return e*e*e+1},l.prototype.dispose=function(){egret.stopTick(this.___render,this),this._updateFun&&(this._updateFun.pool(),this._updateFun=null),this._endFun&&(this._endFun.pool(),this._endFun=null)},l.prototype.___render=function(t){if(this._isStarted&&(t-=this._startTime,t>10&&(this._previousVelocity.length>=e&&this._previousVelocity.shift(),this._velocity=(this._currentPosition-this._previousPosition)/t,this._previousVelocity.push(this._velocity),this._previousPosition=this._currentPosition)),this._isPlaying){t-=this._playStartTime;var i=0==this._duration?1:Math.min(t,this._duration)/this._duration;i=this.easeOut(i),this._currentValue=this._from+(this._to-this._from)*i,this._currentScrollPos=this._currentValue,this._updateFun.runCallBack(this._currentValue,this);var n=t>=this._duration;n&&(this._isPlaying=!1,this.finishScrolling())}return!0},l}();t.TouchScroll=l,__reflect(l.prototype,"devil.TouchScroll",["devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(this._selectedIndex!=t){var e=this._selectedIndex;this._selectedIndex=t,this._selector.selectedIndex!=t&&(this._selector.selectedIndex=t),null!=this._change&&this._change.runCallBack(e,this)}},enumerable:!0,configurable:!0}),i.prototype.resetSelectedIndex=function(){this._selectedIndex=-1},Object.defineProperty(i.prototype,"paddingH",{get:function(){return this._paddingH},set:function(t){this._paddingH=t},enumerable:!0,configurable:!0}),i.prototype.start=function(){e.prototype.start.call(this),this._commLayer=this.createLayer(),this._commLayer.touchChildren=!0,this._uiLayer=this.createLayer(),this._redLayer=this.createLayer(),this._selectedIndex=-1,this._selector=new t.RadioSelector,this._selector.__change(this.onSelected,this),this._paddingH=5},i.prototype.onSelected=function(t){this.selectedIndex=this._selector.selectedIndex},i.prototype.switchRed=function(t,e){var i=this._selector.selecteds[t];i&&i.switchRed(e)},i.prototype.add=function(t){return this.addAt(t,this._selector.selecteds.length)},i.prototype.addAt=function(e,i){var n=t.View.create(t.TabButtonIconSelected);return n.setStyle(t.TabButtonIconSelected.RED_SKIN,"common_red_png"),n.setStyle(t.StyleName.UP_BACK_SKIN,e.upBackSkin),n.setStyle(t.StyleName.SELECT_BACK_SKIN,e.selectedBackSkin),n.setStyle(t.StyleName.UP_ICON_SKIN,e.upIconSkin),n.setStyle(t.StyleName.SELECT_ICON_SKIN,e.selectedfIconSkin),n.width=e.width,n.height=e.height,this.addChild(n,this._commLayer,this._uiLayer,this._redLayer),this._selector.addAt(n,i),n.setSelector(this._selector),e.selected&&(this.selectedIndex=i),e.showRed&&n.switchRed(!0),n},i.prototype.removeAt=function(t,e){this.removeChildAt(t,e),this._selector.removeAt(t)},i.prototype.draw=function(){e.prototype.draw.call(this),this.isInvalid(t.InvalidationType.LAYOUT)&&this.drawLayout()},i.prototype.drawLayout=function(){for(var t=this._children.length,e=1;t>e;e++)this._children[e].x=this._children[e-1].right+this._paddingH},i.prototype.unuse=function(){this._selector.dispose(),this._selector=null,this._change=null,this._commLayer=null,this._uiLayer=null,this._redLayer=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._selector.dispose(),this._selector=null,this._change=null,this._commLayer=null,this._uiLayer=null,this._redLayer=null,e.prototype.dispose.call(this)},i.prototype.__change=function(e,i){this._change=t.CallBackInfo.create(e,i)},i}(t.Container);t.Tab=e,__reflect(e.prototype,"devil.Tab")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),i.prototype.initLayer=function(){e.prototype.initLayer.call(this),this._commonLayer1=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._index=0,this._downOffset=!1},i.prototype.setDefaultStyle=function(){e.prototype.setDefaultStyle.call(this),this._styles[i.RED_SKIN]=null},i.prototype.setSelected=function(t){this._common&&(this._common.selected=t)},i.prototype.getSelected=function(){return this._common.selected},i.prototype.setSelector=function(t){this._selector=t},i.prototype.switchRed=function(e){e&&null==this._red&&(this._red=t.View.create(t.Image),this._red.source=this.getStyle(i.RED_SKIN),this._red.move(this._width-33,4)),this._red&&(e&&null==this._red.parent?this.addChild(this._red,this._commonLayer1):e||null==this._red.parent||this.removeChild(this._red,!1))},i.prototype.setData=function(e){this.setSize(e.width,e.height),this.setStyle(i.RED_SKIN,"common_red_png"),this.setStyle(t.StyleName.UP_BACK_SKIN,e.upBackSkin),this.setStyle(t.StyleName.SELECT_BACK_SKIN,e.selectedBackSkin),this.setStyle(t.StyleName.UP_ICON_SKIN,e.upIconSkin),this.setStyle(t.StyleName.SELECT_ICON_SKIN,e.selectedfIconSkin),0==e.index?this.setIconOffset(-18,0):this.setIconOffset(0,0),this.switchRed(e.showRed),e.selected&&(this._selector.selectedView=this)},i.prototype.clearData=function(){},i.prototype.unuse=function(){this._commonLayer1=null,this._selector=null,null!=this._red&&this._red.parent&&this._red.pool(),this._red=null,e.prototype.unuse.call(this)},i.prototype.dispose=function(){this._commonLayer1=null,this._selector=null,null!=this._red&&this._red.parent&&this._red.pool(),this._red=null,e.prototype.dispose.call(this)},i.prototype.___handleEvent=function(t){if(t.type==egret.TouchEvent.TOUCH_TAP){if(this._common.selected)return;this._selector.selectedView=this}else if(this._common.selected)return;this.___$handleEvent(t)},i.RED_SKIN="redSkin",i}(t.ButtonIconSelected);t.TabButtonIconSelected=e,__reflect(e.prototype,"devil.TabButtonIconSelected",["devil.IListItem","devil.IRadioSelected","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(t,e,i,n){this.upBackSkin="common2_tab1_png",this.selectedBackSkin="common2_tab2_png",this.upBackSkin=t,this.selectedBackSkin=e,this.upIconSkin=i,this.selectedfIconSkin=n}return t}();t.TabData=e,__reflect(e.prototype,"devil.TabData",["devil.IListItemData2","devil.IListItemData"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.parseStringToArray=function(t,e){void 0===e&&(e=",");var i=/{|}| /g;t=t.replace(i,"");for(var n=t.split(e),o=[],r=0;r<n.length;r++)o.push(parseInt(n[r]));return o},t.deleteObject=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},t.sortOn=function(t,e,i){return void 0===i&&(i=null),null==t||0==t.length?t:t.sort(function(t,n){var o=e.length,r="",s=i?i.length:0;s>o&&(s=o);for(var a=0,l=0,h=0;o>h;h++)if(r=e[h],a=0,s>h&&(a=i[h]),l=Number(t[r])-Number(n[r]),0!=l)return 0==a?l:-l;return 0})},t.randomSort=function(t){t.sort(function(t,e){return Math.random()<.5?1:-1})},t.random=function(t){return t[Math.floor(t.length*Math.random())]},t}();t.ArrayUtil=e,__reflect(e.prototype,"devil.ArrayUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.getAsset=function(e,i,n){function o(t){i.call(n,t.getTexture(e),e)}var r=t.PathInfo.getPath(t.Model.resConfig.getURL(e),t.LoaderType.TEXTURE);t.Manager.loader.load(r,o,this,t.ResourceGCType.NEVER)},e}();t.AssetAdapter=e,__reflect(e.prototype,"devil.AssetAdapter",["eui.IAssetAdapter"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.toHexDump=function(t,e,i,n){var o="";null!=t&&(o+=t,o+="\n");for(var r=i+n,s=i;r>s;s+=16){for(var a="",l="",h=0;16>h;h++)if(r>h+s){var c=e.bytes[h+s];l+=16>c?"0"+c.toString(16)+" ":c.toString(16)+" ",a+=c>=32&&127>=c?String.fromCharCode(c):"."}else l+="   ",a+=" ";l+="  ",l+=a,l+="\n",o+=l}return o},t}();t.ByteUtil=e,__reflect(e.prototype,"devil.ByteUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBack",{get:function(){return this._callBack},enumerable:!0,configurable:!0}),e.prototype.runCallBack=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];
t.length>0&&(this._args=t),null==this._args||0==this._args.length?this._callBack.call(this._target):this._callBack.apply(this._target,this._args)},e.prototype.equals=function(t,e){return this._callBack==t&&this._target==e},e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.reuse=function(){},e.prototype.unuse=function(){this._callBack=null,this._target=null,this._args=null},e.prototype.dispose=function(){this.unuse()},e.create=function(i,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var s=t.Manager.pool.create(e);return s._callBack=i,s._target=n,s._args=o,s},e.contains=function(t,e,i){for(var n=t.length,o=0;n>o;o++)if(t[o]._callBack==e&&t[o]._target==i)return o;return-1},e}();t.CallBackInfo=e,__reflect(e.prototype,"devil.CallBackInfo",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.getRandomColor=function(){return 16777215*Math.random()},t.getColor=function(t){return"0x"+t.toString(16)},t.getHtmlColor=function(t){return"#"+t.toString(16)},t}();t.ColorUtil=e,__reflect(e.prototype,"devil.ColorUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.formatStr=function(t,e,i){void 0===i&&(i=!1);var n,o,r,s,a,l,h=new Date(1e3*t);if(i)if(t>0){r=Math.floor(t/86400);var c=Math.floor(t%86400);s=Math.floor(c/3600),a=Math.floor(c/60)%60,l=c%60}else r=0,s=0,a=0,l=0;else n=h.getFullYear(),o=h.getMonth()+1,r=h.getDate(),s=h.getHours(),a=h.getMinutes(),l=h.getSeconds();var u=10>o?"0"+o:o+"",p=10>r?"0"+r:r+"",_=10>s?"0"+s:s+"",d=10>a?"0"+a:a+"",f=10>l?"0"+l:l+"";return e==this.YYYY_MM_DD_HH_MM_SS?n+"/"+u+"/"+p+" "+_+":"+d+":"+f:e==this.MM_DD_HH_MM?u+"/"+p+" "+_+":"+d:e==this.HH_MM?_+":"+d:e==this.MM_SS?d+":"+f:e==this.LEFT_DD_HH_MM?p+"天"+_+"小时"+d+"分":e==this.LEFT_MM_SS?d+":"+f:e==this.LEFT_HH_MM_SS?_+":"+d+":"+f:e==this.LEFT_M_SS?a+":"+f:e==this.LEFT_DAY_OR_HH_MM_SS?r>0?r+"天":_+":"+d+":"+f:""},t.getDateBySecs=function(t){var e=new Date;return e.setTime(1e3*t),e},t.disDay=function(t,e){var i=e.getTime()-t.getTime();return i/1e3/60/60/24},t.getTotalDays=function(t){return Number((t.getTime()-60*t.getTimezoneOffset()*1e3)/864e5)},t.getDates=function(t,e){var i=new Date(t,e,1),n=new Date(t,e+1,1);return Number(this.disDay(i,n))},t.YYYY_MM_DD_HH_MM_SS="YYYY_MM_DD_HH_MM_SS",t.MM_DD_HH_MM="MM_DD_HH_MM_SS",t.HH_MM="HH_MM",t.MM_SS="MM_SS",t.LEFT_DD_HH_MM="LEFT_DD_HH_MM",t.LEFT_MM_SS="LEFT_MM_SS",t.LEFT_HH_MM_SS="LEFT_HH_MM_SS",t.LEFT_M_SS="LEFT_M_SS",t.LEFT_DAY_OR_HH_MM_SS="LEFT_DAY_OR_HH_MM_SS",t}();t.DateUtil=e,__reflect(e.prototype,"devil.DateUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){this._keys=[],this._values=[],this._map={}}return t.prototype.get=function(t){return this._map[t]},t.prototype.add=function(t,e){void 0!=e&&null!=e&&(this.remove(t),this._map[t]=e,this._keys.push(t),this._values.push(e))},t.prototype.remove=function(t){var e=this._map[t];if(void 0!=e){var i=this._keys.indexOf(t,0);return i>-1&&(this._keys.splice(i,1),this._values.splice(i,1)),delete this._map[t],e}},t.prototype.removeAll=function(){this._keys=[],this._values=[],this._map={}},t.prototype.keys=function(){return this._keys},t.prototype.values=function(){return this._values},t.prototype.containsKey=function(t){return void 0!=this._map[t]},t}();t.Dictionary=e,__reflect(e.prototype,"devil.Dictionary")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.start()}return Object.defineProperty(e.prototype,"display",{set:function(t){this.removeEvent(),this._display=t,this.addEvent()},enumerable:!0,configurable:!0}),e.prototype.__longClick=function(e,i,n){this._longClickObj=n,this._longClickFun=t.CallBackInfo.create(e,i)},e.prototype.__click=function(e,i,n){this._clickObj=n,this._clickFun=t.CallBackInfo.create(e,i)},e.prototype.start=function(){this._isDown=!1,this._longClickCnt=0,this._isAddEvt=!1},e.prototype.addEvent=function(){!this._isAddEvt&&this._display&&(this._isAddEvt=!0,this._display.touchEnabled=!0,this._display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._display.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._display.addEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._display.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this))},e.prototype.removeEvent=function(){this._isAddEvt&&this._display&&(this._isAddEvt=!1,this._display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.___handleEvent,this),this._display.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.___handleEvent,this),this._display.removeEventListener(egret.TouchEvent.TOUCH_END,this.___handleEvent,this),this._display.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.___handleEvent,this))},e.prototype.___handleEvent=function(e){switch(e.type){case egret.TouchEvent.TOUCH_BEGIN:this._isDown=!0,this._longClickCnt=0,this._longClickFun&&t.Manager.render.add(this.___checkLongClick,this,300,0);break;case egret.TouchEvent.TOUCH_END:0==this._longClickCnt&&this._clickFun&&this._clickFun.runCallBack(e,this._clickObj),this._isDown=!1;break;case egret.TouchEvent.TOUCH_CANCEL:case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:this._isDown=!1}},e.prototype.___checkLongClick=function(){return this._isDown?(++this._longClickCnt,void(null!=this._longClickFun&&(this._longClickFun.runCallBack(this._longClickObj,!1),this._longClickCnt>=3&&t.Manager.render.add(this.___checkLongClick,this,30,0,null,!0)))):(this._longClickFun&&this._longClickFun.runCallBack(this._longClickObj,!0),void t.Manager.render.remove(this.___checkLongClick,this))},e.prototype.reuse=function(){this.start()},e.prototype.pool=function(){t.Manager.pool.push(this)},e.prototype.unuse=function(){t.Manager.render.remove(this.___checkLongClick,this),this.removeEvent(),this._longClickFun&&(this._longClickFun.pool(),this._longClickFun=null),this._longClickObj=null,this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._clickObj=null,this._display=null},e.prototype.dispose=function(){t.Manager.render.remove(this.___checkLongClick,this),this.removeEvent(),this._longClickFun&&(this._longClickFun.pool(),this._longClickFun=null),this._longClickObj=null,this._clickFun&&(this._clickFun.pool(),this._clickFun=null),this._clickObj=null,this._display=null},e}();t.DisplayLongClick=e,__reflect(e.prototype,"devil.DisplayLongClick",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.setGrayFilter=function(t){if("webgl"==egret.Capabilities.renderMode){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(e);t.filters=[i]}},t}();t.FilterUtil=e,__reflect(e.prototype,"devil.FilterUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.createRectSprite=function(e,i,n,o,r,s){void 0===r&&(r=0),void 0===s&&(s=1);var a=t.Manager.pool.createSprite();return this.drawRect(a.graphics,e,i,n,o,r,s),a},e.createRectShape=function(e,i,n,o,r,s){void 0===r&&(r=0),void 0===s&&(s=1);var a=t.Manager.pool.createShape();return this.drawRect(a.graphics,e,i,n,o,r,s),a},e.drawRect=function(t,e,i,n,o,r,s){void 0===r&&(r=0),void 0===s&&(s=1),t.clear(),t.beginFill(r,s),t.drawRect(e,i,n,o),t.endFill()},e.createCircleSprite=function(e,i,n,o,r){void 0===o&&(o=0),void 0===r&&(r=1);var s=t.Manager.pool.createSprite();return this.drawCircle(s.graphics,e,i,n,o,r),s},e.createCircleShape=function(e,i,n,o,r){void 0===o&&(o=0),void 0===r&&(r=1);var s=t.Manager.pool.createShape();return this.drawCircle(s.graphics,e,i,n,o,r),s},e.drawCircle=function(t,e,i,n,o,r){void 0===o&&(o=0),void 0===r&&(r=1),t.clear(),t.beginFill(o,r),t.drawCircle(e,i,n),t.endFill()},e.createRectBoderShape=function(e,i,n,o,r,s){void 0===r&&(r=0);var a=t.Manager.pool.createShape();return a.graphics.lineStyle(.1,r),a.graphics.drawRect(e,i,n,o),a},e.drawSector=function(t,e,i,n,o,r,s){t.clear(),t.beginFill(o,1),t.lineStyle(0,o),t.moveTo(e,i),r=Math.abs(r)>360?360:r;var a=Math.ceil(Math.abs(r)/45),l=r/a;l=l*Math.PI/180,s=s*Math.PI/180,t.lineTo(e+n*Math.cos(s),i+n*Math.sin(s));for(var h=1;a>=h;h++){s+=l;var c=s-l/2,u=e+n/Math.cos(l/2)*Math.cos(c),p=i+n/Math.cos(l/2)*Math.sin(c),_=e+n*Math.cos(s),d=i+n*Math.sin(s);t.curveTo(u,p,_,d)}360!=r&&t.lineTo(e,i),t.endFill()},e.drawDashed=function(t,e,i,n,o,r,s,a){void 0===s&&(s=0),void 0===a&&(a=1),t.clear();var l=Math.ceil(r/(n+o));t.lineStyle(1,s,a);for(var h=e,c=0;l>c;c++)h=c*(n+o)+e,t.moveTo(h,i),t.lineTo(h+n,i)},e}();t.GraphicsUtil=e,__reflect(e.prototype,"devil.GraphicsUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.setHtml=function(t,e){t.textFlow=(new egret.HtmlTextParser).parse(e)},t.addBTag=function(t){return"<b>"+t+"</b>"},t.addUTag=function(t){return"<u>"+t+"</u>"},t.addFontTag=function(t,e){return"<font fontFamily='"+e+"'>"+t+"</font>"},t.addColorTag=function(t,e){return"<font color='"+e+"'>"+t+"</font>"},t.addColorSizeTag=function(t,e,i){return void 0===i&&(i=0),0==i&&(i=egret.TextField.default_size),"<font color='"+e+"' size='"+i+"'>"+t+"</font>"},t.addATag=function(t,e){return void 0===e&&(e=""),"<a href = 'event:"+e+"'>"+t+"</a>"},t.addColorUATag=function(t,e,i){return void 0===i&&(i=""),"<a href = 'event:"+i+"'><u><font color='"+e+"'>"+t+"</font></u></a>"},t}();t.HtmlUtil=e,__reflect(e.prototype,"devil.HtmlUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.clamb=function(t,e,i){return t>=i?t:i>=e?e:i},t.isBetween=function(t,e,i){return i>=t&&e>=i?!0:!1},t.distance=function(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))},t.angle=function(t){return 180*t/Math.PI},t.radian=function(t){return t*Math.PI/180},t.atan2=function(t,e){return 180*Math.atan2(t,e)/Math.PI},t.cos=function(t){return Math.cos(t/180*Math.PI)},t.sin=function(t){return Math.sin(t/180*Math.PI)},t}();t.MathUtil=e,__reflect(e.prototype,"devil.MathUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.removeFromParent=function(t,e){void 0===e&&(e=null),null!=t&&(null==t.parent||e!=t.parent&&null!=e||t.parent.removeChild(t))},t.removes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length-1;i>=0;)this.removeFromParent(t[i]),i--},t.dispose=function(t){t&&t.dispose()},t}();t.ObjectUtil=e,__reflect(e.prototype,"devil.ObjectUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.getAngle=function(t,e,i,n){return this.getRadian(t,e,i,n)/Math.PI*180},t.getRadian=function(t,e,i,n){return Math.atan2(n-e,i-t)},t.getNextPoint=function(t,e,i){return new egret.Point(t.x+Math.cos(e)*i,t.y+Math.sin(e)*i)},t.inRect=function(t,e,i){return this.inRect2(t,e,i.x,i.y)},t.inRect2=function(t,e,i,n){var o=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),s=Math.abs(i-t.x),a=Math.abs(i-e.x),l=Math.abs(n-t.y),h=Math.abs(n-e.y);return o==s+a&&r==l+h},t.getPoint=function(t){return new egret.Point(parseInt(t[0]),parseInt(t[1]))},t.getPoint2=function(t,e){void 0===e&&(e=",");var i=t.split(e);return new egret.Point(parseInt(i[0]),parseInt(i[1]))},t.getPoints=function(t,e,i){void 0===e&&(e="|"),void 0===i&&(i=",");for(var n=[],o=t.split(e),r=0;r<o.length;r++)n.push(this.getPoint2(o[r]));return n},t}();t.PointUtil=e,__reflect(e.prototype,"devil.PointUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this._selecteds=[]}return Object.defineProperty(e.prototype,"selecteds",{get:function(){return this._selecteds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSelected",{get:function(){return this._currentSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selecteds.indexOf(this._currentSelected)},set:function(e){e=t.MathUtil.clamb(0,this._selecteds.length<0?0:this._selecteds.length-1,e),this._currentSelected!=this._selecteds[e]&&(null!=this._currentSelected&&this._currentSelected.setSelected(!1),this._currentSelected=this.selecteds[e],this._currentSelected.setSelected(!0),null!=this._changFun&&this._changFun.runCallBack(this._currentSelected))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedView",{set:function(t){var e=this._selecteds.indexOf(t);-1!=e&&(this.selectedIndex=e)},enumerable:!0,configurable:!0}),e.prototype.add=function(t){this.addAt(t,this._selecteds.length)},e.prototype.addAt=function(t,e){-1==this._selecteds.indexOf(t)&&this._selecteds.splice(e,0,t)},e.prototype.remove=function(t){var e=this._selecteds.indexOf(t);-1!=e&&this.removeAt(e)},e.prototype.cancel=function(){null!=this._currentSelected&&this._currentSelected.setSelected(!1),this._currentSelected=null},e.prototype.removeAt=function(t){this._selecteds[t]==this._currentSelected&&this.cancel(),this._selecteds.splice(t,1)},e.prototype.clear=function(){this.cancel(),this._selecteds.length=0},e.prototype.pool=function(){this.dispose()},e.prototype.dispose=function(){this._selecteds=null,null!=this._changFun&&(this._changFun.pool(),this._changFun=null),this._currentSelected=null},e.prototype.__change=function(e,i){this._changFun=t.CallBackInfo.create(e,i)},e}();t.RadioSelector=e,__reflect(e.prototype,"devil.RadioSelector",["devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.prototype.startsWith=function(t,e,i){return void 0===i&&(i=!1),t?t.length<e.length?!1:(t=t.substring(0,e.length),i?t.toLowerCase()==e.toLowerCase():t==e):!1},t.parseBoolean=function(t){return!("FALSE"==t.toUpperCase())},t.formatString=function(t){return 10>t?"0"+t:t+""},t.isEmpty=function(t){return null==t||""==t},t.toString=function(t){return t instanceof egret.Rectangle?t.x+","+t.y+","+t.width+","+t.height:t.toString()},t.parseRectangle=function(t){if(""==t||null==t)return null;var e=t.split(",");return new egret.Rectangle(e[0],e[1],e[2],e[3])},t.substitute=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null==t)return"";var n,o=e.length;1==o&&e[0]instanceof Array?(n=e[0],o=n.length):n=e;for(var r=0;o>r;r++)t=t.replace(new RegExp("\\{"+r+"\\}","g"),n[r]);return t},t.format=function(t,e){var i,n=e.length;if(n>0)for(var o=0;n>o;o++)i=new RegExp("({["+o+"]})","g"),t=t.replace(i,e[o]);return t},t.getStrlen=function(t){for(var e=t.length,i=0,n=0;e>n;n++)0!=(65280&t.charCodeAt(n))&&i++,i++;return i},t.getStrlen2=function(t){for(var e=0,i=t.length,n=0;i>n;n++){var o=t.charCodeAt(n);o>127||94==o?e+=2:e++}return e},t}();t.StringUtil=e,__reflect(e.prototype,"devil.StringUtil")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){}return e.prototype.getTheme=function(e,i,n,o){function r(e){t.Manager.loader.remove(e.getPath(),r,this,s,this),i.call(o,e.text)}function s(t){t.getPath().urls[0]==e&&n.call(o)}t.Manager.loader.load(t.PathInfo.getPath(e,t.LoaderType.TEXT,!1),r,this,t.ResourceGCType.COMMON,t.ResPriorityType.LOAD_LEVEL6,s,this)},e}();t.ThemeAdapter=e,__reflect(e.prototype,"devil.ThemeAdapter",["eui.IThemeAdapter"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._x=t,this._y=e}return t.prototype.clone=function(){return new t(this._x,this.y)},t.prototype.zero=function(){return this._x=0,this._y=0,this},t.prototype.isZero=function(){return 0==this._x&&0==this._y},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSQ)},set:function(t){var e=this.angle;this._x=Math.cos(e)*t,this._y=Math.sin(e)*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengthSQ",{get:function(){return this._x*this._x+this._y*this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this._y,this._x)},set:function(t){var e=this.length;this._x=Math.cos(t)*e,this._y=Math.sin(t)*e},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){var t=this.length;return 0==t?(this._x=1,this):(this._x/=t,this._y/=t,this)},t.prototype.isNormalized=function(){return 1==this.length},t.prototype.reverse=function(){return this._x=-this._x,this._y=-this._y,this},t.prototype.dist=function(t){return Math.sqrt(this.distSQ(t))},t.prototype.distSQ=function(t){var e=t.x-this._x,i=t.y-this._y;return e*e+i*i},t.prototype.add=function(e){return new t(this._x+e.x,this._y+e.y)},t.prototype.subtract=function(e){return new t(this._x-e.x,this._y-e.y)},t.prototype.multiply=function(e){return new t(this._x*e,this._y*e)},t.prototype.divide=function(e){return new t(this._x/e,this._y/e)},t.prototype.equals=function(t){return this._x==t.x&&this._y==t.y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"[Vector2D (x:"+this._x+", y:"+this._y+")]"},t}();t.Vector2D=e,__reflect(e.prototype,"devil.Vector2D")}(devil||(devil={}));var devil;!function(t){var e=function(){function e(){this.start()}return e.prototype.start=function(){this._isPool=!0,this._invalid=t.InvalidationType.ALL},e.prototype.startCallLater=function(){t.Manager.render.add(this.repaint,this)},e.prototype.repaint=function(){this.draw(),this.validate(),t.Manager.render.remove(this.repaint,this)},e.prototype.validate=function(){this._invalid=t.InvalidationType.EMPTY},e.prototype.isInvalid=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if((this._invalid&t)==t)return!0;for(;e.length>0;)if(t=e.pop(),(this._invalid&t)==t)return!0;return!1},e.prototype.draw=function(){},e.prototype.invalidate=function(t){this._invalid=this._invalid|t,this.startCallLater()},e.prototype.unuse=function(){t.Manager.render.remove(this.repaint,this)},e.prototype.reuse=function(){this.start()},e.prototype.pool=function(){this._isPool?t.Manager.pool.push(this):this.dispose()},e.prototype.dispose=function(){t.Manager.render.remove(this.repaint,this)},e}();t.BaseRender=e,__reflect(e.prototype,"devil.BaseRender",["devil.IPool","devil.IDispose"])}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.start(),t}return __extends(i,e),i.prototype.start=function(){this._isPool=!1,this._invalid=t.InvalidationType.INIT,this._loadComplete=!1,this.touchEnabled=!1,this.touchChildren=!1,this.addEventListener(eui.UIEvent.COMPLETE,this.___complete,this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.___addedToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.___removedFromStage,this)},i.prototype.___addedToStage=function(t){this.startCallLater()},i.prototype.startCallLater=function(){null!=this.stage&&this._loadComplete&&t.Manager.render.add(this.repaint,this)},i.prototype.repaint=function(){this.draw(),this.validate(),t.Manager.render.remove(this.repaint,this)},i.prototype.validate=function(){this._invalid=t.InvalidationType.EMPTY},i.prototype.invalidate=function(t){this._invalid=this._invalid|t,this.startCallLater()},i.prototype.isInvalid=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if((this._invalid&t)==t)return!0;for(;e.length>0;)if(t=e.pop(),(this._invalid&t)==t)return!0;return!1},i.prototype.move=function(t,e){this.x=t,this.y=e},i.prototype.draw=function(){this.isInvalid(t.InvalidationType.INIT)&&this.drawInit()},i.prototype.drawInit=function(){this.configUI(),this.addEvent()},i.prototype.configUI=function(){},i.prototype.addEvent=function(){},i.prototype.removeEvent=function(){},i.prototype.addViewChild=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n,o=e?e.length:0,r=0;r<t.layers.length;++r)n=o>r?e[r]:this,n.addChild(t.layers[r])},i.prototype.addViewChildAt=function(t,e){for(var i=0;i<t.layers.length;++i)this.addChildAt(t.layers[i],e+i)},i.prototype.dispose=function(){t.Manager.render.remove(this.repaint,this),this.removeEvent(),this.removeEventListener(eui.UIEvent.COMPLETE,this.___complete,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.___addedToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.___removedFromStage,this),this.parent&&this.parent.removeChild(this)},i.prototype.___removedFromStage=function(e){t.Manager.render.remove(this.repaint,this)},i.prototype.___complete=function(e){this._loadComplete=!0,this.invalidate(t.InvalidationType.INIT),this.startCallLater()},i}(eui.Component);t.EUIView=e,__reflect(e.prototype,"devil.EUIView",["eui.UIComponent","egret.DisplayObject"])}(devil||(devil={}));var devil;!function(t){var e=function(){function t(){}return t.MAGIC_TOUCH=1,t.JUMP=2,t.MOTO=3,t.PUZZLE=4,t.COLOR=6,t}();t.GameID=e,__reflect(e.prototype,"devil.GameID")}(devil||(devil={}));var devil;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.initLayer=function(){this._layer=this.createLayer()},i.prototype.start=function(){e.prototype.start.call(this),this._image=t.View.create(t.Image),this._image.setSize(109,117),this._image.anchorX=.5*this._image.width,this._image.anchorY=.5*this._image.height,this._image.source="common_viewLoading_png",this.addChild(this._image,this._layer),t.Manager.stage.add(this.___resize,this)},i.prototype.show=function(){this.___resize(t.Manager.stage.width,t.Manager.stage.height),t.Manager.layer.addUI(t.LayerSubIndex.UI_LOADING,this._layer),t.Manager.render.add(this.___render,this)},i.prototype.hide=function(){t.Manager.stage.remove(this.___resize,this),t.Manager.render.remove(this.___render,this),this.removeFromParent()},i.prototype.___render=function(t){this._image.rotation+=400*t*.001},i.prototype.___resize=function(t,e){this.x=.5*(t-this._image.width)+this._image.anchorX,this.y=.5*(e-this._image.height)+this._image.anchorY},i.getInstance=function(){return null==this._instance&&(this._instance=new i),this._instance},i}(t.Container);t.ViewLoading=e,__reflect(e.prototype,"devil.ViewLoading")}(devil||(devil={}));